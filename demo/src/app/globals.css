@import 'tailwindcss';

@theme {
  /* Font families reference CSS variables injected by next/font (see layout.tsx) */
  --font-display: var(--font-mona-sans), sans-serif;
  --font-display--font-variation-settings: 'wdth' 112.5;
  --font-sans: var(--font-inter), system-ui, sans-serif;

  --color-mist-50: oklch(98.7% 0.002 197.1);
  --color-mist-100: oklch(96.3% 0.002 197.1);
  --color-mist-200: oklch(92.5% 0.005 214.3);
  --color-mist-300: oklch(87.2% 0.007 219.6);
  --color-mist-400: oklch(72.3% 0.014 214.4);
  --color-mist-500: oklch(56% 0.021 213.5);
  --color-mist-600: oklch(45% 0.017 213.2);
  --color-mist-700: oklch(37.8% 0.015 216);
  --color-mist-800: oklch(27.5% 0.011 216.9);
  --color-mist-900: oklch(21.8% 0.008 223.9);
  --color-mist-950: oklch(14.8% 0.004 228.8);
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-mist-100);
    --scroll-padding-top: 0;
    scroll-padding-top: var(--scroll-padding-top);

    @variant dark {
      background-color: var(--color-mist-950);
    }
  }

  /* =============================================================================
     FILM GRAIN TEXTURE OVERLAY
     Adds subtle noise texture for warmth and tactility, breaking the "too clean"
     digital look. Uses SVG noise filter for crisp, performant rendering.
     ============================================================================= */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.035;
    /* SVG noise filter - creates organic film grain effect */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 128px 128px;
  }

  /* Slightly stronger grain in dark mode for visibility */
  @variant dark {
    body::before {
      opacity: 0.05;
    }
  }

  /* Respect reduced motion - disable animated grain if motion is reduced */
  @media (prefers-reduced-motion: reduce) {
    body::before {
      opacity: 0.025;
    }
  }
}

/* Scroll-triggered reveal animations */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply animation when element has data-animate="visible" */
.animate-fade-up {
  opacity: 0;
}

.animate-fade-up[data-animate='visible'] {
  animation: fade-up 0.5s ease-out forwards;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-up {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* =============================================================================
   CONTENT VISIBILITY OPTIMIZATION (P-3)
   Defers rendering of off-screen sections to improve initial paint performance.
   Uses CSS containment to skip rendering until section scrolls into view.
   FCP improvement: 30-50ms; faster scrolling on mobile.

   Usage: Apply to below-fold sections with estimated heights:
   - Features: contain-intrinsic-size: auto 800px
   - Stats: contain-intrinsic-size: auto 400px
   - Testimonials: contain-intrinsic-size: auto 600px
   - FAQs: contain-intrinsic-size: auto 500px
   - Pricing: contain-intrinsic-size: auto 700px
   - CTA: contain-intrinsic-size: auto 300px
   ============================================================================= */
.content-visibility-auto {
  content-visibility: auto;
  /* Default intrinsic size for sections - override per-section as needed */
  contain-intrinsic-size: auto 500px;
}

/* Section-specific intrinsic sizes for accurate layout estimation */
.content-visibility-features {
  content-visibility: auto;
  contain-intrinsic-size: auto 800px;
}

.content-visibility-stats {
  content-visibility: auto;
  contain-intrinsic-size: auto 400px;
}

.content-visibility-testimonials {
  content-visibility: auto;
  contain-intrinsic-size: auto 600px;
}

.content-visibility-faqs {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

.content-visibility-pricing {
  content-visibility: auto;
  contain-intrinsic-size: auto 700px;
}

.content-visibility-cta {
  content-visibility: auto;
  contain-intrinsic-size: auto 300px;
}

/* =============================================================================
   HERO ENTRANCE ANIMATION SEQUENCE
   Orchestrated page-load animation with staggered reveals
   ============================================================================= */

@keyframes hero-entrance {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes hero-entrance-scale {
  from {
    opacity: 0;
    transform: translateY(24px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Base class: elements start invisible and animate on page load */
.hero-animate {
  opacity: 0;
  animation: hero-entrance 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Screenshot variant with subtle scale effect */
.hero-animate-scale {
  opacity: 0;
  animation: hero-entrance-scale 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Staggered delay classes for orchestrated sequence */
.hero-delay-0 { animation-delay: 0ms; }
.hero-delay-1 { animation-delay: 80ms; }
.hero-delay-2 { animation-delay: 160ms; }
.hero-delay-3 { animation-delay: 240ms; }
.hero-delay-4 { animation-delay: 360ms; }
.hero-delay-5 { animation-delay: 500ms; }

/* =============================================================================
   FAQ SPRING ANIMATION
   Smooth accordion open/close with spring-like overshoot easing
   ============================================================================= */

@keyframes faq-spring-open {
  0% {
    opacity: 0;
    transform: translateY(-8px);
  }
  60% {
    opacity: 1;
    transform: translateY(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes faq-icon-rotate {
  0% {
    transform: rotate(0deg);
  }
  60% {
    transform: rotate(95deg);
  }
  100% {
    transform: rotate(90deg);
  }
}

/* Spring animation for FAQ content reveal */
.faq-spring-content {
  animation: faq-spring-open 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Icon rotation with spring overshoot */
.faq-icon-spring {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.faq-icon-spring[data-open='true'] {
  transform: rotate(90deg);
}

/* =============================================================================
   SCROLL-TRIGGERED SECTION ANIMATIONS
   Reusable animation classes for section reveals on scroll
   ============================================================================= */

/* Slide up animation - default for most elements */
@keyframes scroll-slide-up {
  from {
    opacity: 0;
    transform: translateY(32px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide from left animation - for alternating layouts */
@keyframes scroll-slide-left {
  from {
    opacity: 0;
    transform: translateX(-32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Slide from right animation - for alternating layouts */
@keyframes scroll-slide-right {
  from {
    opacity: 0;
    transform: translateX(32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scale up animation - for cards and contained elements */
@keyframes scroll-scale-up {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* =============================================================================
   PARALLAX TILT EFFECT
   3D tilt effect on hover for screenshots and cards
   ============================================================================= */

.parallax-tilt {
  transform-style: preserve-3d;
  perspective: 1000px;
  transition: transform 0.15s ease-out, box-shadow 0.3s ease-out;
}

.parallax-tilt:hover {
  /* Shadow enhancement on hover for depth */
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.15),
    0 12px 24px -8px rgba(0, 0, 0, 0.1);
}

/* Dark mode shadow adjustment */
@variant dark {
  .parallax-tilt:hover {
    box-shadow:
      0 25px 50px -12px rgba(0, 0, 0, 0.4),
      0 12px 24px -8px rgba(0, 0, 0, 0.3);
  }
}

/* Subtle glow effect on the screenshot content */
.parallax-tilt-glow {
  position: relative;
  overflow: hidden;
}

.parallax-tilt-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0;
  background: radial-gradient(
    circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(255, 255, 255, 0.15) 0%,
    transparent 50%
  );
  transition: opacity 0.3s ease-out;
  pointer-events: none;
}

.parallax-tilt-glow:hover::after {
  opacity: 1;
}

/* =============================================================================
   MAGNETIC BUTTON EFFECT
   CSS fallback styles (JS handles the actual magnetic behavior)
   
   Performance: will-change is only applied during interaction to avoid
   permanent GPU layer promotion on idle elements.
   ============================================================================= */

.magnetic-wrapper {
  display: inline-block;
}

.magnetic-wrapper:hover,
.magnetic-wrapper:focus-within {
  will-change: transform;
}

/* =============================================================================
   ANIMATED GRADIENT BORDER
   Rotating conic gradient border for primary CTAs
   ============================================================================= */

@keyframes gradient-border-rotate {
  from {
    --gradient-angle: 0deg;
  }
  to {
    --gradient-angle: 360deg;
  }
}

/* Register custom property for smooth animation (Houdini) */
@property --gradient-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

/* Wrapper establishes positioning context */
.gradient-border-wrapper {
  --gradient-rotation-duration: 3000ms;
}

/* Rotating gradient border layer */
.gradient-border-rotating {
  background: conic-gradient(
    from var(--gradient-angle),
    /* Light mode: mist palette colors */
    oklch(45% 0.017 213.2) 0deg,      /* mist-600 */
    oklch(56% 0.021 213.5) 60deg,     /* mist-500 */
    oklch(72.3% 0.014 214.4) 120deg,  /* mist-400 */
    oklch(56% 0.021 213.5) 180deg,    /* mist-500 */
    oklch(37.8% 0.015 216) 240deg,    /* mist-700 */
    oklch(45% 0.017 213.2) 300deg,    /* mist-600 */
    oklch(45% 0.017 213.2) 360deg     /* mist-600 - seamless loop */
  );
  animation: gradient-border-rotate var(--gradient-rotation-duration) linear infinite;
}

/* Dark mode gradient uses lighter values for visibility */
@variant dark {
  .gradient-border-rotating {
    background: conic-gradient(
      from var(--gradient-angle),
      oklch(72.3% 0.014 214.4) 0deg,    /* mist-400 */
      oklch(87.2% 0.007 219.6) 60deg,   /* mist-300 */
      oklch(92.5% 0.005 214.3) 120deg,  /* mist-200 */
      oklch(87.2% 0.007 219.6) 180deg,  /* mist-300 */
      oklch(72.3% 0.014 214.4) 240deg,  /* mist-400 */
      oklch(56% 0.021 213.5) 300deg,    /* mist-500 */
      oklch(72.3% 0.014 214.4) 360deg   /* mist-400 - seamless loop */
    );
  }
}

/* Glow effect - uses same gradient but blurred */
.gradient-border-glow {
  background: conic-gradient(
    from var(--gradient-angle),
    oklch(45% 0.017 213.2) 0deg,
    oklch(56% 0.021 213.5) 90deg,
    oklch(72.3% 0.014 214.4) 180deg,
    oklch(56% 0.021 213.5) 270deg,
    oklch(45% 0.017 213.2) 360deg
  );
  animation: gradient-border-rotate var(--gradient-rotation-duration) linear infinite;
}

@variant dark {
  .gradient-border-glow {
    background: conic-gradient(
      from var(--gradient-angle),
      oklch(72.3% 0.014 214.4) 0deg,
      oklch(87.2% 0.007 219.6) 90deg,
      oklch(92.5% 0.005 214.3) 180deg,
      oklch(87.2% 0.007 219.6) 270deg,
      oklch(72.3% 0.014 214.4) 360deg
    );
  }
}

/* Hover state: show glow and speed up rotation */
.gradient-border-wrapper:hover .gradient-border-glow {
  opacity: 0.5;
}

.gradient-border-wrapper:hover .gradient-border-rotating,
.gradient-border-wrapper:hover .gradient-border-glow {
  animation-duration: calc(var(--gradient-rotation-duration) * 0.5);
}

/* =============================================================================
   CTA SHIMMER EFFECT
   Diagonal shine sweep that periodically crosses CTA buttons
   ============================================================================= */

@keyframes cta-shimmer-sweep {
  0% {
    transform: translateX(-100%) skewX(-20deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateX(200%) skewX(-20deg);
    opacity: 0;
  }
}

/* Base shimmer element - positioned but hidden until animated */
.cta-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  width: 50%;
  transform: translateX(-100%) skewX(-20deg);
  opacity: 0;
}

/* Dark mode shimmer - slightly brighter for visibility */
@variant dark {
  .cta-shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.3) 50%,
      transparent 100%
    );
  }
}

/* Shimmer animation - triggered via JS class toggle */
.cta-shimmer-animate {
  animation: cta-shimmer-sweep 600ms ease-out forwards;
}

/* =============================================================================
   BLUR TRANSITION TEXT ANIMATION
   Smooth blur in/out transitions for text changes
   ============================================================================= */

@keyframes blur-in {
  from {
    opacity: 0;
    filter: blur(8px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes blur-out {
  from {
    opacity: 1;
    filter: blur(0);
  }
  to {
    opacity: 0;
    filter: blur(8px);
  }
}

/* =============================================================================
   GRADIENT MESH BACKGROUND ANIMATION
   Organic drifting movement for ambient background blobs
   ============================================================================= */

@keyframes mesh-drift {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1);
  }
  25% {
    transform: translate(-50%, -50%) translate(30px, -20px) scale(1.05);
  }
  50% {
    transform: translate(-50%, -50%) translate(-20px, 30px) scale(0.95);
  }
  75% {
    transform: translate(-50%, -50%) translate(-30px, -10px) scale(1.02);
  }
}

/* Slower, more subtle variant for large blobs */
@keyframes mesh-drift-slow {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1);
  }
  33% {
    transform: translate(-50%, -50%) translate(15px, -25px) scale(1.03);
  }
  66% {
    transform: translate(-50%, -50%) translate(-25px, 15px) scale(0.97);
  }
}

/* =============================================================================
   LOGO MARQUEE ANIMATION
   Infinite horizontal scrolling for logo displays
   ============================================================================= */

@keyframes marquee-scroll-left {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

@keyframes marquee-scroll-right {
  from {
    transform: translateX(-50%);
  }
  to {
    transform: translateX(0);
  }
}

/* Marquee scroll animation classes */
.logo-marquee-scroll-left {
  animation: marquee-scroll-left var(--marquee-duration, 30s) linear infinite;
}

.logo-marquee-scroll-right {
  animation: marquee-scroll-right var(--marquee-duration, 30s) linear infinite;
}

/* =============================================================================
   BORDER BEAM EFFECT
   A single point of light that travels around the perimeter of an element,
   creating a premium "scan line" effect for featured cards.
   ============================================================================= */

@keyframes border-beam {
  /* Start at top-left corner */
  0% {
    top: 0;
    left: 0;
    transform: translate(-50%, -50%);
  }
  /* Move along top edge to top-right */
  25% {
    top: 0;
    left: 100%;
    transform: translate(-50%, -50%);
  }
  /* Move down right edge to bottom-right */
  50% {
    top: 100%;
    left: 100%;
    transform: translate(-50%, -50%);
  }
  /* Move along bottom edge to bottom-left */
  75% {
    top: 100%;
    left: 0;
    transform: translate(-50%, -50%);
  }
  /* Return up left edge to top-left (complete loop) */
  100% {
    top: 0;
    left: 0;
    transform: translate(-50%, -50%);
  }
}

/* Border beam animation class - used by the BorderBeam component */
.animate-border-beam {
  animation: border-beam 8s linear infinite;
}

/* =============================================================================
   MORPHING PRICE DIGITS
   Smooth digit-by-digit morph animation for price changes.
   Creates a mechanical counter / slot machine effect.
   ============================================================================= */

@keyframes digit-morph {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes digit-slide-out {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(-100%);
    opacity: 0;
  }
}

@keyframes digit-slide-in {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Digit morph animation classes */
.animate-digit-morph {
  animation: digit-morph 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-digit-slide-out {
  animation: digit-slide-out 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-digit-slide-in {
  animation: digit-slide-in 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Pricing tab panel transition - morphing effect when switching tabs */
.pricing-tab-panels > [role="tabpanel"] {
  animation: pricing-panel-enter 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes pricing-panel-enter {
  0% {
    opacity: 0;
    transform: translateY(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Morphing price - adds subtle transition for price value changes */
.morphing-price {
  display: inline-block;
  transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

/* =============================================================================
   LINK UNDERLINE GROW-FROM-CENTER ANIMATION
   Creates a premium underline effect that expands from center outward on hover.
   The underline "breathes" into existence rather than simply appearing.
   ============================================================================= */

.link-underline-grow {
  position: relative;
  text-decoration: none;
}

/* The animated underline pseudo-element */
.link-underline-grow::after {
  content: '';
  position: absolute;
  /* Position at the baseline of the text */
  bottom: 0;
  /* Start centered */
  left: 50%;
  /* Initial width of 0, will expand on hover */
  width: 0;
  /* Underline thickness */
  height: 1.5px;
  /* Use mist-500 for visible contrast against light backgrounds */
  background: oklch(56% 0.021 213.5);
  /* Smooth expansion animation with ease-out for natural feel */
  transition:
    width 0.3s cubic-bezier(0.22, 1, 0.36, 1),
    left 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Hover state - expand underline to full width */
.link-underline-grow:hover::after,
.link-underline-grow:focus-visible::after {
  width: 100%;
  left: 0;
}

/* Dark mode - use white for clear visibility against dark backgrounds */
:is(.dark .link-underline-grow)::after {
  background: white;
}

/* =============================================================================
   SCREENSHOT REFLECTION EFFECT
   Creates a premium "floating above polished surface" appearance with a
   mirrored, blurred reflection below screenshots.
   ============================================================================= */

.screenshot-reflection {
  position: relative;
}

/* The reflection pseudo-element */
.screenshot-reflection::after {
  content: '';
  position: absolute;
  /* Position below the screenshot with small gap */
  top: 100%;
  left: 0;
  right: 0;
  /* Reflection height - proportional to the parent */
  height: 30%;
  /* Mirror effect using gradient that simulates reflection */
  background: linear-gradient(
    to bottom,
    var(--reflection-color, rgba(0, 0, 0, 0.04)) 0%,
    transparent 100%
  );
  /* Blur for frosted glass effect */
  filter: blur(8px);
  /* Fade out mask */
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 80%);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 80%);
  /* Match parent border radius */
  border-radius: inherit;
  /* Don't interfere with interactions */
  pointer-events: none;
  /* Subtle animation on parent hover */
  opacity: 0.6;
  transition: opacity 0.5s ease-out;
  transform: scaleY(0.5);
  transform-origin: top;
}

/* Enhance reflection on hover */
.screenshot-reflection:hover::after {
  opacity: 0.8;
}

/* Dark mode: lighter reflection color */
@variant dark {
  .screenshot-reflection::after {
    --reflection-color: rgba(255, 255, 255, 0.03);
  }
}

/* =============================================================================
   ELASTIC PRICING TOGGLE
   Spring physics animation for Monthly/Yearly toggle indicator with
   overshoot and settle effect.
   ============================================================================= */

@keyframes elastic-slide {
  0% {
    transform: translateX(var(--from-x, 0));
  }
  60% {
    /* Overshoot by 8% */
    transform: translateX(calc(var(--to-x, 0) + (var(--to-x, 0) - var(--from-x, 0)) * 0.08));
  }
  80% {
    /* Settle back slightly past target */
    transform: translateX(calc(var(--to-x, 0) - (var(--to-x, 0) - var(--from-x, 0)) * 0.03));
  }
  100% {
    transform: translateX(var(--to-x, 0));
  }
}

/* Pill indicator base styles */
.pricing-toggle-pill {
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* When animating, use the elastic keyframe */
.pricing-toggle-pill[data-animating="true"] {
  animation: elastic-slide 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* =============================================================================
   SECTION REVEAL HORIZON LINE
   Animated horizontal accent line that draws inward from both edges
   when a section enters the viewport.
   ============================================================================= */

.section-horizon {
  position: relative;
}

/* Left line */
.section-horizon::before,
.section-horizon::after {
  content: '';
  position: absolute;
  top: 0;
  height: 1px;
  /* Gradient using mist palette */
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(56% 0.021 213.5) 50%,  /* mist-500 */
    oklch(72.3% 0.014 214.4) 100% /* mist-400 */
  );
  /* Start hidden */
  transform: scaleX(0);
  transition: transform 0.8s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Left line - draws from left edge */
.section-horizon::before {
  left: 0;
  width: 35%;
  transform-origin: left center;
}

/* Right line - draws from right edge */
.section-horizon::after {
  right: 0;
  width: 35%;
  transform-origin: right center;
  /* Reverse the gradient direction */
  background: linear-gradient(
    90deg,
    oklch(72.3% 0.014 214.4) 0%,  /* mist-400 */
    oklch(56% 0.021 213.5) 50%,   /* mist-500 */
    transparent 100%
  );
}

/* Animate in when visible */
.section-horizon[data-visible="true"]::before,
.section-horizon[data-visible="true"]::after {
  transform: scaleX(1);
}

/* Stagger the right line slightly */
.section-horizon[data-visible="true"]::after {
  transition-delay: 0.1s;
}

/* Dark mode: brighter lines */
@variant dark {
  .section-horizon::before {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(72.3% 0.014 214.4) 50%,  /* mist-400 */
      oklch(87.2% 0.007 219.6) 100%  /* mist-300 */
    );
  }
  .section-horizon::after {
    background: linear-gradient(
      90deg,
      oklch(87.2% 0.007 219.6) 0%,   /* mist-300 */
      oklch(72.3% 0.014 214.4) 50%,  /* mist-400 */
      transparent 100%
    );
  }
}

/* =============================================================================
   TESTIMONIAL AVATAR PRESENCE RING
   Slow-pulsing concentric ring on hover that creates a "live presence"
   indicator effect, humanizing testimonials.
   ============================================================================= */

@keyframes presence-pulse {
  0% {
    transform: scale(1);
    opacity: 0.4;
  }
  50% {
    transform: scale(1.15);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

/* Avatar wrapper with presence effect */
.avatar-presence {
  position: relative;
}

/* The pulsing ring - hidden by default, shown on group hover */
.avatar-presence::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 9999px;
  /* Ring using mist palette */
  border: 2px solid oklch(56% 0.021 213.5); /* mist-500 */
  opacity: 0;
  pointer-events: none;
  /* Animation paused by default */
  animation: presence-pulse 2.5s ease-out infinite;
  animation-play-state: paused;
}

/* Activate on group hover */
.group:hover .avatar-presence::before {
  animation-play-state: running;
}

/* Dark mode: lighter ring color */
@variant dark {
  .avatar-presence::before {
    border-color: oklch(72.3% 0.014 214.4); /* mist-400 */
  }
}

/* =============================================================================
   CARD ENTRANCE DEPTH STACK
   Ghost shadow card that appears behind cards during entrance animation,
   creating a "pulled from deck" sensation.
   ============================================================================= */

@keyframes depth-stack-fade {
  0% {
    opacity: 0.25;
    transform: translate(4px, 6px) scale(0.98);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0) scale(1);
  }
}

/* Container for depth stack effect */
.card-depth-stack {
  position: relative;
}

/* Ghost card shadow - appears behind the main card */
.card-depth-stack::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  /* Semi-transparent background matching card */
  background: oklch(27.5% 0.011 216.9 / 0.08); /* mist-800 at 8% */
  /* Hidden by default */
  opacity: 0;
  pointer-events: none;
  z-index: -1;
}

/* Animate when visible */
.card-depth-stack[data-animating="true"]::before {
  animation: depth-stack-fade 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode: lighter ghost card */
@variant dark {
  .card-depth-stack::before {
    background: oklch(92.5% 0.005 214.3 / 0.06); /* mist-200 at 6% */
  }
}

/* =============================================================================
   RECOMMENDATION A: PRISMATIC GRID ENTRANCES
   Directional card entrances based on grid position with subtle color shift.
   Creates organic "dealing from deck" sensation.
   ============================================================================= */

/* Prismatic color shift during entrance - subtle hue rotation that settles */
@keyframes prismatic-shift {
  0% {
    filter: hue-rotate(var(--prismatic-hue, 0deg)) saturate(1.1);
  }
  100% {
    filter: hue-rotate(0deg) saturate(1);
  }
}

/* Diagonal entrance from top-left */
@keyframes prismatic-enter-tl {
  from {
    opacity: 0;
    transform: translate(-16px, -16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Diagonal entrance from top-right */
@keyframes prismatic-enter-tr {
  from {
    opacity: 0;
    transform: translate(16px, -16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Diagonal entrance from bottom-left */
@keyframes prismatic-enter-bl {
  from {
    opacity: 0;
    transform: translate(-16px, 16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Diagonal entrance from bottom-right */
@keyframes prismatic-enter-br {
  from {
    opacity: 0;
    transform: translate(16px, 16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Horizontal entrance from left */
@keyframes prismatic-enter-left {
  from {
    opacity: 0;
    transform: translateX(-20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Horizontal entrance from right */
@keyframes prismatic-enter-right {
  from {
    opacity: 0;
    transform: translateX(20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Prismatic entrance classes - combine direction with color shift */
.prismatic-enter {
  opacity: 0;
}

.prismatic-enter[data-visible="true"] {
  animation:
    var(--prismatic-direction, prismatic-enter-tl) 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards,
    prismatic-shift 0.9s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Position-based direction assignments for 3-column grids */
.prismatic-enter[data-position="0"] { --prismatic-direction: prismatic-enter-tl; --prismatic-hue: -8deg; }
.prismatic-enter[data-position="1"] { --prismatic-direction: scroll-slide-up; --prismatic-hue: 0deg; }
.prismatic-enter[data-position="2"] { --prismatic-direction: prismatic-enter-tr; --prismatic-hue: 8deg; }
.prismatic-enter[data-position="3"] { --prismatic-direction: prismatic-enter-left; --prismatic-hue: -5deg; }
.prismatic-enter[data-position="4"] { --prismatic-direction: scroll-scale-up; --prismatic-hue: 0deg; }
.prismatic-enter[data-position="5"] { --prismatic-direction: prismatic-enter-right; --prismatic-hue: 5deg; }
.prismatic-enter[data-position="6"] { --prismatic-direction: prismatic-enter-bl; --prismatic-hue: -8deg; }
.prismatic-enter[data-position="7"] { --prismatic-direction: scroll-slide-up; --prismatic-hue: 0deg; }
.prismatic-enter[data-position="8"] { --prismatic-direction: prismatic-enter-br; --prismatic-hue: 8deg; }

/* =============================================================================
   RECOMMENDATION B: PRICING CARD FOCUS ISOLATION
   Cinema-style focus pull - hovering one card dims others.
   ============================================================================= */

/* Parent container that enables focus isolation */
.pricing-focus-group {
  /* Children will respond to parent hover state */
}

/* Card within focus group - dims when sibling is hovered */
.pricing-focus-card {
  transition: filter 0.4s ease-out, opacity 0.4s ease-out, transform 0.2s ease-out;
}

/* When parent is hovered, dim all cards */
.pricing-focus-group:hover .pricing-focus-card {
  filter: saturate(0.7) brightness(0.95);
  opacity: 0.7;
}

/* The hovered card overrides the dim effect and gains focus */
.pricing-focus-group:hover .pricing-focus-card:hover {
  filter: saturate(1) brightness(1);
  opacity: 1;
  /* Add subtle glow halo */
  box-shadow:
    0 0 0 1px oklch(56% 0.021 213.5 / 0.1),
    0 8px 32px -8px oklch(56% 0.021 213.5 / 0.15);
}

/* Dark mode adjustments */
@variant dark {
  .pricing-focus-group:hover .pricing-focus-card:hover {
    box-shadow:
      0 0 0 1px oklch(72.3% 0.014 214.4 / 0.15),
      0 8px 32px -8px oklch(72.3% 0.014 214.4 / 0.2);
  }
}

/* =============================================================================
   RECOMMENDATION C: MAGNETIC RIPPLE ON CTA ENTRY
   Radial ripple emanating from button when cursor enters magnetic field.
   ============================================================================= */

@keyframes magnetic-ripple {
  0% {
    transform: translate(-50%, -50%) scale(0.3);
    opacity: 0.4;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0;
  }
}

/* Ripple effect container */
.magnetic-ripple-container {
  position: relative;
  overflow: visible;
}

/* The ripple element - positioned absolutely */
.magnetic-ripple {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border-radius: 9999px;
  pointer-events: none;
  /* Gradient using mist palette */
  background: radial-gradient(
    circle,
    oklch(56% 0.021 213.5 / 0.3) 0%,
    oklch(72.3% 0.014 214.4 / 0.1) 50%,
    transparent 70%
  );
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
}

/* Trigger ripple animation */
.magnetic-ripple.animate {
  animation: magnetic-ripple 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode: brighter ripple */
@variant dark {
  .magnetic-ripple {
    background: radial-gradient(
      circle,
      oklch(72.3% 0.014 214.4 / 0.3) 0%,
      oklch(87.2% 0.007 219.6 / 0.1) 50%,
      transparent 70%
    );
  }
}

/* =============================================================================
   RECOMMENDATION D: PROGRESSIVE SCREENSHOT REVEAL
   Diagonal gradient wipe that "materializes" screenshots.
   ============================================================================= */

@keyframes screenshot-reveal {
  0% {
    clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
  }
  100% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes screenshot-reveal-glow {
  0% {
    left: -20%;
    opacity: 1;
  }
  100% {
    left: 120%;
    opacity: 0;
  }
}

/* Progressive reveal container */
.screenshot-reveal {
  position: relative;
  /* Start hidden via clip-path */
  clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
}

/* Animate reveal when visible */
.screenshot-reveal[data-visible="true"] {
  animation: screenshot-reveal 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Leading edge glow during reveal */
.screenshot-reveal::before {
  content: '';
  position: absolute;
  top: 0;
  left: -20%;
  width: 15%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(72.3% 0.014 214.4 / 0.4) 50%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 10;
  opacity: 0;
}

.screenshot-reveal[data-visible="true"]::before {
  animation: screenshot-reveal-glow 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode glow */
@variant dark {
  .screenshot-reveal::before {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(87.2% 0.007 219.6 / 0.3) 50%,
      transparent 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION E: ANIMATED SECTION DIVIDERS
   Horizontal lines that draw from center outward with light pulse.
   ============================================================================= */

@keyframes divider-draw {
  0% {
    transform: scaleX(0);
  }
  100% {
    transform: scaleX(1);
  }
}

@keyframes divider-pulse {
  0% {
    left: 50%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    left: 100%;
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

@keyframes divider-pulse-reverse {
  0% {
    right: 50%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    right: 100%;
    opacity: 1;
  }
  100% {
    right: 100%;
    opacity: 0;
  }
}

/* Section divider container */
.section-divider {
  position: relative;
  height: 1px;
  width: 100%;
}

/* Left half of divider - draws from center to left */
.section-divider::before,
.section-divider::after {
  content: '';
  position: absolute;
  top: 0;
  height: 1px;
  width: 50%;
  transform: scaleX(0);
}

.section-divider::before {
  right: 50%;
  transform-origin: right center;
  background: linear-gradient(
    270deg,
    oklch(56% 0.021 213.5) 0%,
    oklch(72.3% 0.014 214.4 / 0.5) 50%,
    transparent 100%
  );
}

.section-divider::after {
  left: 50%;
  transform-origin: left center;
  background: linear-gradient(
    90deg,
    oklch(56% 0.021 213.5) 0%,
    oklch(72.3% 0.014 214.4 / 0.5) 50%,
    transparent 100%
  );
}

/* Animate when visible */
.section-divider[data-visible="true"]::before,
.section-divider[data-visible="true"]::after {
  animation: divider-draw 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.section-divider[data-visible="true"]::after {
  animation-delay: 0.05s;
}

/* Light pulse element that travels along the divider */
.section-divider-pulse {
  position: absolute;
  top: -1px;
  width: 30px;
  height: 3px;
  border-radius: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(72.3% 0.014 214.4) 50%,
    transparent 100%
  );
  opacity: 0;
  pointer-events: none;
}

/* Right-traveling pulse */
.section-divider-pulse.right {
  left: 50%;
}

.section-divider[data-visible="true"] .section-divider-pulse.right {
  animation: divider-pulse 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.5s;
}

/* Left-traveling pulse */
.section-divider-pulse.left {
  right: 50%;
}

.section-divider[data-visible="true"] .section-divider-pulse.left {
  animation: divider-pulse-reverse 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.55s;
}

/* Dark mode */
@variant dark {
  .section-divider::before {
    background: linear-gradient(
      270deg,
      oklch(72.3% 0.014 214.4) 0%,
      oklch(56% 0.021 213.5 / 0.5) 50%,
      transparent 100%
    );
  }
  .section-divider::after {
    background: linear-gradient(
      90deg,
      oklch(72.3% 0.014 214.4) 0%,
      oklch(56% 0.021 213.5 / 0.5) 50%,
      transparent 100%
    );
  }
  .section-divider-pulse {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(87.2% 0.007 219.6) 50%,
      transparent 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION 6: NAVBAR SCROLL GLOW
   Animated gradient glow line along navbar bottom edge when scrolled.
   ============================================================================= */

@keyframes navbar-glow-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Navbar glow line - appears when scrolled */
.navbar-glow {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  opacity: 0;
  transition: opacity 0.3s ease-out;
  /* Animated gradient */
  background: linear-gradient(
    90deg,
    oklch(72.3% 0.014 214.4 / 0.3) 0%,
    oklch(56% 0.021 213.5 / 0.5) 25%,
    oklch(45% 0.017 213.2 / 0.3) 50%,
    oklch(56% 0.021 213.5 / 0.5) 75%,
    oklch(72.3% 0.014 214.4 / 0.3) 100%
  );
  background-size: 200% 100%;
  animation: navbar-glow-shift 6s ease-in-out infinite;
}

/* Show glow when navbar is scrolled */
.navbar-scrolled .navbar-glow {
  opacity: 0.25;
}

/* Dark mode - brighter glow */
@variant dark {
  .navbar-glow {
    background: linear-gradient(
      90deg,
      oklch(87.2% 0.007 219.6 / 0.2) 0%,
      oklch(72.3% 0.014 214.4 / 0.4) 25%,
      oklch(56% 0.021 213.5 / 0.2) 50%,
      oklch(72.3% 0.014 214.4 / 0.4) 75%,
      oklch(87.2% 0.007 219.6 / 0.2) 100%
    );
    background-size: 200% 100%;
  }
}

/* =============================================================================
   RECOMMENDATION 7: TESTIMONIAL QUOTE MARK FLOAT
   Slow floating animation for decorative quote marks.
   ============================================================================= */

@keyframes quote-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

/* Floating quote mark */
.quote-float {
  animation: quote-float 8s ease-in-out infinite;
}

/* Pause on card hover for focus */
.group:hover .quote-float {
  animation-play-state: paused;
  opacity: 0.8;
  transition: opacity 0.3s ease-out;
}

/* =============================================================================
   RECOMMENDATION 8: STATS GRAPH DATA PULSE
   Traveling dots along graph line suggesting live data.
   ============================================================================= */

@keyframes data-pulse-travel {
  0% {
    offset-distance: 0%;
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  95% {
    opacity: 1;
  }
  100% {
    offset-distance: 100%;
    opacity: 0;
  }
}

/* Data pulse dot that travels along path */
.data-pulse {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: oklch(56% 0.021 213.5);
  box-shadow: 0 0 8px oklch(56% 0.021 213.5 / 0.6);
  offset-rotate: 0deg;
  opacity: 0;
}

/* Animate when active - uses offset-path from inline style */
.data-pulse.active {
  animation: data-pulse-travel 4s linear infinite;
}

/* Stagger multiple pulses */
.data-pulse:nth-child(2) {
  animation-delay: 2s;
}

/* Dark mode */
@variant dark {
  .data-pulse {
    background: oklch(72.3% 0.014 214.4);
    box-shadow: 0 0 8px oklch(72.3% 0.014 214.4 / 0.6);
  }
}

/* =============================================================================
   RECOMMENDATION 9: FAQ ACCORDION GLOW TRAIL
   Glow that follows expanding content edge.
   ============================================================================= */

@keyframes faq-glow-trail {
  0% {
    opacity: 0.8;
    height: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    height: 100%;
  }
}

/* Glow trail container - positioned on FAQ content */
.faq-glow-trail {
  position: relative;
  overflow: hidden;
}

/* The glow line that tracks expansion */
.faq-glow-trail::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(56% 0.021 213.5 / 0.5) 20%,
    oklch(72.3% 0.014 214.4 / 0.8) 50%,
    oklch(56% 0.021 213.5 / 0.5) 80%,
    transparent 100%
  );
  opacity: 0;
  pointer-events: none;
}

/* Animate glow when FAQ opens */
.faq-glow-trail[data-open="true"]::after {
  animation: faq-glow-trail 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode */
@variant dark {
  .faq-glow-trail::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(72.3% 0.014 214.4 / 0.4) 20%,
      oklch(87.2% 0.007 219.6 / 0.6) 50%,
      oklch(72.3% 0.014 214.4 / 0.4) 80%,
      transparent 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION 10: SCROLL-VELOCITY RESPONSIVE ELEMENTS
   CSS custom properties set by scroll velocity tracker.
   ============================================================================= */

/* Base variables - set by JS scroll velocity hook */
:root {
  --scroll-velocity: 0;
  --scroll-intensity: 1;
}

/* Elements that respond to scroll velocity */
.velocity-responsive {
  transition-duration: calc(0.6s / var(--scroll-intensity, 1));
}

/* Dot matrix responds to scroll velocity - increases opacity during fast scroll */
.velocity-dot-matrix {
  --dot-opacity-boost: calc(var(--scroll-velocity, 0) * 0.0002);
}

/* =============================================================================
   PAGE ROUTE TRANSITIONS (C)
   Smooth entrance animations for page content when navigating between routes.
   Creates a polished, premium feel by eliminating jarring page changes.

   To disable: Remove the PageTransition wrapper from pages, or remove
   the .page-transition-enter class from the wrapper element.
   ============================================================================= */

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Page entrance animation - triggers on mount */
.page-transition-enter {
  animation: page-enter 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* =============================================================================
   MICRO-ANIMATED ICONS (D)
   Subtle hover animations for SVG icons that add life and interactivity.
   Multiple animation types available for different icon contexts.

   To disable: Remove the animation class (e.g., .icon-wiggle) from the icon
   element, or remove the .group class from the parent element.
   ============================================================================= */

/* Wiggle animation - slight rotation back and forth */
@keyframes icon-wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-8deg);
  }
  75% {
    transform: rotate(8deg);
  }
}

/* Pulse animation - gentle scale pulse */
@keyframes icon-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/* Bounce animation - vertical bounce with squash */
@keyframes icon-bounce {
  0%, 100% {
    transform: translateY(0) scaleY(1);
  }
  30% {
    transform: translateY(-4px) scaleY(1.05);
  }
  50% {
    transform: translateY(0) scaleY(0.95);
  }
  70% {
    transform: translateY(-2px) scaleY(1);
  }
}

/* Float animation - gentle up-down drift */
@keyframes icon-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-3px);
  }
}

/* Spin animation - single rotation */
@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Sparkle animation - scale with brightness pulse for sparkles/star icons */
@keyframes icon-sparkle {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.1);
    filter: brightness(1.3);
  }
}

/* Base class for animated icons - sets up transition context */
.icon-animated {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease-out;
}

/* Icon animation variants - apply on hover via parent group or direct hover */

/* Wiggle effect - good for notification, settings, warning icons */
.icon-wiggle:hover,
.group:hover .icon-wiggle {
  animation: icon-wiggle 0.4s ease-in-out;
}

/* Pulse effect - good for heart, star, favorite icons */
.icon-pulse:hover,
.group:hover .icon-pulse {
  animation: icon-pulse 0.5s ease-out;
}

/* Bounce effect - good for arrow, navigation, action icons */
.icon-bounce:hover,
.group:hover .icon-bounce {
  animation: icon-bounce 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Float effect - good for cloud, mail, document icons */
.icon-float:hover,
.group:hover .icon-float {
  animation: icon-float 0.6s ease-in-out infinite;
}

/* Spin effect - good for settings, refresh, loading icons (single spin) */
.icon-spin:hover,
.group:hover .icon-spin {
  animation: icon-spin 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Sparkle effect - good for sparkles, star, magic icons */
.icon-sparkle:hover,
.group:hover .icon-sparkle {
  animation: icon-sparkle 0.6s ease-in-out;
}

/* =============================================================================
   AURORA HERO BACKGROUND (Recommendation A)
   Slowly morphing layered gradients that create an organic, living atmosphere
   in the hero section. Three gradient layers at different blend modes shift
   position and scale on 20-40s cycles.

   To disable: Remove the AuroraBackground component from the hero section.
   ============================================================================= */

/* Aurora layer 1 - Primary cool gradient, slowest movement */
@keyframes aurora-drift-1 {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.5;
  }
  25% {
    transform: translate(-50%, -50%) translate(8%, -6%) scale(1.1) rotate(3deg);
    opacity: 0.6;
  }
  50% {
    transform: translate(-50%, -50%) translate(-5%, 8%) scale(0.95) rotate(-2deg);
    opacity: 0.45;
  }
  75% {
    transform: translate(-50%, -50%) translate(6%, 4%) scale(1.05) rotate(1deg);
    opacity: 0.55;
  }
}

/* Aurora layer 2 - Secondary warmer gradient, medium speed */
@keyframes aurora-drift-2 {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.4;
  }
  33% {
    transform: translate(-50%, -50%) translate(-10%, 5%) scale(1.15) rotate(-4deg);
    opacity: 0.5;
  }
  66% {
    transform: translate(-50%, -50%) translate(7%, -8%) scale(0.9) rotate(3deg);
    opacity: 0.35;
  }
}

/* Aurora layer 3 - Accent gradient, fastest movement */
@keyframes aurora-drift-3 {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.3;
  }
  20% {
    transform: translate(-50%, -50%) translate(12%, 6%) scale(0.85) rotate(5deg);
    opacity: 0.4;
  }
  40% {
    transform: translate(-50%, -50%) translate(-8%, -10%) scale(1.1) rotate(-3deg);
    opacity: 0.25;
  }
  60% {
    transform: translate(-50%, -50%) translate(5%, 12%) scale(0.95) rotate(2deg);
    opacity: 0.35;
  }
  80% {
    transform: translate(-50%, -50%) translate(-6%, -5%) scale(1.05) rotate(-1deg);
    opacity: 0.3;
  }
}

/* Aurora container - positions layers absolutely within hero */
.aurora-background {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0;
}

/* Individual aurora gradient layers */
.aurora-layer {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150%;
  height: 150%;
  border-radius: 50%;
  filter: blur(80px);
  will-change: transform, opacity;
}

/* Layer 1 - Cool blue-teal gradient */
.aurora-layer-1 {
  background: radial-gradient(
    ellipse at center,
    oklch(56% 0.021 213.5 / 0.25) 0%,
    oklch(72.3% 0.014 214.4 / 0.15) 40%,
    transparent 70%
  );
  animation: aurora-drift-1 35s ease-in-out infinite;
}

/* Layer 2 - Warmer accent gradient */
.aurora-layer-2 {
  background: radial-gradient(
    ellipse at center,
    oklch(45% 0.017 213.2 / 0.2) 0%,
    oklch(56% 0.021 213.5 / 0.1) 50%,
    transparent 75%
  );
  animation: aurora-drift-2 28s ease-in-out infinite;
  animation-delay: -10s;
  mix-blend-mode: soft-light;
}

/* Layer 3 - Subtle highlight gradient */
.aurora-layer-3 {
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at center,
    oklch(72.3% 0.014 214.4 / 0.15) 0%,
    oklch(87.2% 0.007 219.6 / 0.08) 40%,
    transparent 60%
  );
  animation: aurora-drift-3 22s ease-in-out infinite;
  animation-delay: -5s;
  mix-blend-mode: screen;
}

/* Dark mode - brighter, more vibrant auroras */
@variant dark {
  .aurora-layer-1 {
    background: radial-gradient(
      ellipse at center,
      oklch(72.3% 0.014 214.4 / 0.2) 0%,
      oklch(56% 0.021 213.5 / 0.12) 40%,
      transparent 70%
    );
  }

  .aurora-layer-2 {
    background: radial-gradient(
      ellipse at center,
      oklch(56% 0.021 213.5 / 0.15) 0%,
      oklch(45% 0.017 213.2 / 0.08) 50%,
      transparent 75%
    );
  }

  .aurora-layer-3 {
    background: radial-gradient(
      ellipse at center,
      oklch(87.2% 0.007 219.6 / 0.12) 0%,
      oklch(72.3% 0.014 214.4 / 0.06) 40%,
      transparent 60%
    );
  }
}

/* Pause aurora animation when off-screen for performance */
.aurora-background[data-paused="true"] .aurora-layer {
  animation-play-state: paused;
}

/* =============================================================================
   LUMINANCE SWEEP HEADLINES (Recommendation B)
   As display headlines enter viewport, a subtle metallic sheen sweeps across
   the text using background-clip: text with an animated linear gradient.
   Single 800ms sweep triggered once via data attribute.

   To disable: Remove the 'luminance-sweep' class from the heading element,
   or set data-sweep-complete="true" to skip the animation.
   ============================================================================= */

@keyframes luminance-sweep {
  0% {
    background-position: -100% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* Base luminance sweep class */
.luminance-sweep {
  position: relative;
  /* Ensure text is visible even before animation */
  color: inherit;
}

/* The metallic sheen overlay - uses ::after for non-destructive effect */
.luminance-sweep::after {
  content: attr(data-text);
  position: absolute;
  inset: 0;
  /* Metallic sheen gradient - diagonal sweep */
  background: linear-gradient(
    105deg,
    transparent 0%,
    transparent 35%,
    oklch(87.2% 0.007 219.6 / 0.6) 45%,
    oklch(96.3% 0.002 197.1 / 0.9) 50%,
    oklch(87.2% 0.007 219.6 / 0.6) 55%,
    transparent 65%,
    transparent 100%
  );
  background-size: 200% 100%;
  background-position: -100% center;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  /* Hidden until triggered */
  opacity: 0;
  pointer-events: none;
}

/* Trigger sweep animation when visible */
.luminance-sweep[data-sweep="true"]::after {
  opacity: 1;
  animation: luminance-sweep 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* After animation completes, hide the overlay */
.luminance-sweep[data-sweep-complete="true"]::after {
  opacity: 0;
}

/* Dark mode - brighter, more pronounced sheen */
@variant dark {
  .luminance-sweep::after {
    background: linear-gradient(
      105deg,
      transparent 0%,
      transparent 35%,
      oklch(92.5% 0.005 214.3 / 0.5) 45%,
      oklch(98.7% 0.002 197.1 / 0.8) 50%,
      oklch(92.5% 0.005 214.3 / 0.5) 55%,
      transparent 65%,
      transparent 100%
    );
    background-size: 200% 100%;
    background-position: -100% center;
    -webkit-background-clip: text;
    background-clip: text;
  }
}

/* =============================================================================
   HERO DEPTH PARALLAX (Recommendation C)
   Multi-layer scroll parallax where different hero elements move at different
   speeds as user scrolls past the hero section. Creates depth perception.

   Speed factors (set via CSS custom property --parallax-speed):
   - Screenshot: 0.7 (appears distant, moves slower)
   - Headline: 1.0 (baseline, normal scroll)
   - Background: 0.5 (furthest back)
   - CTA: 1.1 (closest, moves faster)

   To disable: Remove 'hero-parallax' class from the hero section container,
   or remove '--parallax-speed' custom property from individual elements.
   ============================================================================= */

/* Container that enables parallax on children */
.hero-parallax {
  /* CSS custom property for scroll position - set by JS */
  --scroll-y: 0;
}

/* Individual parallax elements - speed controlled by custom property */
.hero-parallax-element {
  /* Default speed is 1 (normal scroll) */
  --parallax-speed: 1;
  /* Apply parallax transform based on scroll position and speed */
  transform: translateY(calc(var(--scroll-y, 0) * (1 - var(--parallax-speed)) * 1px));
  /* Use will-change during scroll for performance (set by JS) */
  transition: transform 0s linear;
}

/* Pre-defined speed classes for convenience */
.hero-parallax-bg {
  --parallax-speed: 0.5;
}

.hero-parallax-screenshot {
  --parallax-speed: 0.7;
}

.hero-parallax-headline {
  --parallax-speed: 1;
}

.hero-parallax-cta {
  --parallax-speed: 1.1;
}

/* Performance optimization: only enable will-change during active scroll */
.hero-parallax[data-scrolling="true"] .hero-parallax-element {
  will-change: transform;
}

/* Disable parallax on touch devices and when reduced motion is preferred */
@media (hover: none), (prefers-reduced-motion: reduce) {
  .hero-parallax-element {
    transform: none !important;
  }
}

/* =============================================================================
   VIEW TRANSITIONS API STYLES (A-1)
   CSS customization for the View Transitions API. These styles control the
   animation between page states when navigating with TransitionLink.

   Browser support: Chrome 111+ (progressive enhancement)
   Fallback: Standard instant navigation on unsupported browsers

   The API creates pseudo-elements for old and new page snapshots:
   - ::view-transition-old(root) - the outgoing page snapshot
   - ::view-transition-new(root) - the incoming page snapshot

   To disable: Remove TransitionLink usage or set disableTransition prop.
   ============================================================================= */

/* Root view transition - applies to full page transitions */
::view-transition-old(root),
::view-transition-new(root) {
  /* Animation duration - 300ms provides smooth feel without being sluggish */
  animation-duration: 0.3s;
  /* Easing curve - ease-out for natural deceleration */
  animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
}

/* Old page snapshot - fades and slides up slightly */
::view-transition-old(root) {
  animation-name: view-transition-fade-out;
}

/* New page snapshot - fades in and slides up from below */
::view-transition-new(root) {
  animation-name: view-transition-fade-in;
}

/* Keyframes for outgoing page - subtle fade with slight upward movement */
@keyframes view-transition-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-8px);
  }
}

/* Keyframes for incoming page - fade in with upward slide */
@keyframes view-transition-fade-in {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Respect reduced motion preferences for View Transitions */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: 0.01ms !important;
  }
}

/* =============================================================================
   RECOMMENDATION 7: ICON PATH MOTION ENTRY
   Feature icons animate along curved bezier paths when entering viewport,
   creating organic, premium motion instead of linear translate-up.

   Uses CSS offset-path for path-following animation. ~75% browser support;
   graceful fallback to standard translate animation on unsupported browsers.

   To disable: Remove 'icon-path-motion' class from the icon wrapper element.
   ============================================================================= */

/* Curved path definitions - icons follow these bezier curves on entry */
@keyframes icon-path-curve-up {
  0% {
    offset-distance: 0%;
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    offset-distance: 100%;
    opacity: 1;
    transform: scale(1);
  }
}

/* Fallback for browsers without offset-path support */
@keyframes icon-path-fallback {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.8);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Base class for path motion icons */
.icon-path-motion {
  /* Start hidden */
  opacity: 0;
  /* Define the curved path - gentle arc upward */
  offset-path: path('M 0 40 Q 10 20 20 10 T 40 0');
  offset-rotate: 0deg;
  offset-distance: 0%;
}

/* Variant paths for different visual directions */
.icon-path-motion.path-left {
  offset-path: path('M 30 40 Q 15 25 10 15 T 0 0');
}

.icon-path-motion.path-right {
  offset-path: path('M -30 40 Q -15 25 -10 15 T 0 0');
}

.icon-path-motion.path-bounce {
  offset-path: path('M 0 50 Q 5 20 0 10 T 0 0');
}

/* Animate when visible - uses offset-path if supported */
.icon-path-motion[data-visible="true"] {
  animation: icon-path-curve-up 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Fallback for browsers without offset-path support */
@supports not (offset-path: path('M 0 0')) {
  .icon-path-motion {
    offset-path: none;
  }
  .icon-path-motion[data-visible="true"] {
    animation: icon-path-fallback 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  }
}

/* =============================================================================
   RECOMMENDATION 8: STICKY SECTION CONTEXT LABELS
   Section eyebrow labels become sticky at top with backdrop blur as user
   scrolls through that section. Shows user where they are in page structure.

   Uses IntersectionObserver to detect active section and CSS position: sticky.
   Creates implicit navigation affordance without explicit nav.

   To disable: Remove 'sticky-eyebrow' class from the eyebrow element wrapper.
   ============================================================================= */

/* Container must have relative positioning for sticky to work */
.sticky-section-container {
  position: relative;
}

/* Sticky eyebrow wrapper */
.sticky-eyebrow {
  position: sticky;
  top: 64px; /* Below navbar height */
  z-index: 5;
  /* Start transparent */
  background: transparent;
  transition:
    background-color 0.3s ease-out,
    backdrop-filter 0.3s ease-out,
    padding 0.3s ease-out,
    margin 0.3s ease-out;
}

/* When stuck (detected via JS intersection), add visual treatment */
.sticky-eyebrow[data-stuck="true"] {
  background: oklch(96.3% 0.002 197.1 / 0.85); /* mist-100 with transparency */
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  padding: 8px 16px;
  margin: 0 -16px;
  border-radius: 8px;
  /* Subtle shadow for depth */
  box-shadow:
    0 1px 3px oklch(14.8% 0.004 228.8 / 0.05),
    0 4px 12px oklch(14.8% 0.004 228.8 / 0.03);
}

/* Dark mode stuck state */
@variant dark {
  .sticky-eyebrow[data-stuck="true"] {
    background: oklch(14.8% 0.004 228.8 / 0.85); /* mist-950 with transparency */
    box-shadow:
      0 1px 3px oklch(0% 0 0 / 0.2),
      0 4px 12px oklch(0% 0 0 / 0.15);
  }
}

/* Active section indicator - subtle glow when this section is in view */
.sticky-eyebrow[data-active="true"]::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 24px;
  height: 2px;
  background: oklch(56% 0.021 213.5); /* mist-500 */
  border-radius: 1px;
  animation: eyebrow-indicator-enter 0.3s ease-out forwards;
}

@keyframes eyebrow-indicator-enter {
  0% {
    width: 0;
    opacity: 0;
  }
  100% {
    width: 24px;
    opacity: 1;
  }
}

/* Dark mode indicator */
@variant dark {
  .sticky-eyebrow[data-active="true"]::after {
    background: oklch(72.3% 0.014 214.4); /* mist-400 */
  }
}

/* =============================================================================
   RECOMMENDATION 9: SMOOTH HUE SHIFT BETWEEN SECTIONS
   Background accent colors subtly shift hue (5) as user scrolls between
   major sections. Creates subtle sense of journey through page.

   Implemented via CSS custom property --accent-hue updated by scroll position.
   Uses oklch color space for perceptually smooth transitions.

   To disable: Don't call useHueShift hook, or remove hue-shift classes.
   ============================================================================= */

/* Base CSS custom property for hue shift - set by JS */
:root {
  --accent-hue-shift: 0deg;
  --section-hue-hero: 0deg;
  --section-hue-features: 3deg;
  --section-hue-stats: 5deg;
  --section-hue-testimonials: 2deg;
  --section-hue-pricing: -2deg;
  --section-hue-cta: 0deg;
}

/* Apply hue shift to elements that should respond */
.hue-shift-accent {
  filter: hue-rotate(var(--accent-hue-shift, 0deg));
  transition: filter 0.5s ease-out;
}

/* Section-specific hue shifts - applied via data attribute */
[data-section-hue="hero"] {
  --local-hue: var(--section-hue-hero);
}

[data-section-hue="features"] {
  --local-hue: var(--section-hue-features);
}

[data-section-hue="stats"] {
  --local-hue: var(--section-hue-stats);
}

[data-section-hue="testimonials"] {
  --local-hue: var(--section-hue-testimonials);
}

[data-section-hue="pricing"] {
  --local-hue: var(--section-hue-pricing);
}

[data-section-hue="cta"] {
  --local-hue: var(--section-hue-cta);
}

/* Hue-shifted gradient backgrounds for sections */
.hue-shift-bg {
  position: relative;
}

.hue-shift-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  /* Subtle gradient that responds to hue shift */
  background: linear-gradient(
    180deg,
    oklch(96.3% 0.002 calc(197.1 + var(--local-hue, 0deg)) / 0) 0%,
    oklch(96.3% 0.004 calc(197.1 + var(--local-hue, 0deg)) / 0.3) 50%,
    oklch(96.3% 0.002 calc(197.1 + var(--local-hue, 0deg)) / 0) 100%
  );
  opacity: 0;
  transition: opacity 0.6s ease-out;
}

/* Show gradient when section is active */
.hue-shift-bg[data-hue-active="true"]::before {
  opacity: 1;
}

/* Dark mode hue shift background */
@variant dark {
  .hue-shift-bg::before {
    background: linear-gradient(
      180deg,
      oklch(14.8% 0.004 calc(228.8 + var(--local-hue, 0deg)) / 0) 0%,
      oklch(14.8% 0.006 calc(228.8 + var(--local-hue, 0deg)) / 0.2) 50%,
      oklch(14.8% 0.004 calc(228.8 + var(--local-hue, 0deg)) / 0) 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION 10: INTERACTIVE TEXT HIGHLIGHT ON SCROLL
   Key phrases/value propositions highlight with subtle glow and color
   intensification as they pass through viewport center.

   Uses IntersectionObserver with rootMargin to detect center-screen position.
   Creates reading focus guide for important content.

   To disable: Remove 'scroll-highlight' class from the text wrapper element.
   ============================================================================= */

/* Base class for scroll-highlighted text
   Clean color-only effect without text-shadow to avoid blotchy appearance. */
.scroll-highlight {
  transition: color 0.5s ease-out;
}

/* Highlighted state - when text is in viewport center */
.scroll-highlight[data-highlighted="true"] {
  /* Richer, more saturated color */
  color: oklch(15% 0.02 223.9);
}

/* Dark mode highlighted state */
@variant dark {
  .scroll-highlight[data-highlighted="true"] {
    /* Pure bright white - clean and sharp */
    color: oklch(100% 0 0);
  }
}

/* Stagger animation for multiple highlights */
.scroll-highlight[data-highlight-index="0"] { transition-delay: 0ms; }
.scroll-highlight[data-highlight-index="1"] { transition-delay: 50ms; }
.scroll-highlight[data-highlight-index="2"] { transition-delay: 100ms; }
.scroll-highlight[data-highlight-index="3"] { transition-delay: 150ms; }

/* Underline variant - adds animated underline on highlight */
.scroll-highlight.with-underline {
  position: relative;
}

.scroll-highlight.with-underline::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    oklch(56% 0.021 213.5) 0%,
    oklch(72.3% 0.014 214.4) 100%
  );
  border-radius: 1px;
  transition: width 0.4s cubic-bezier(0.22, 1, 0.36, 1);
}

.scroll-highlight.with-underline[data-highlighted="true"]::after {
  width: 100%;
}

/* Dark mode underline */
@variant dark {
  .scroll-highlight.with-underline::after {
    background: linear-gradient(
      90deg,
      oklch(72.3% 0.014 214.4) 0%,
      oklch(87.2% 0.007 219.6) 100%
    );
  }
}


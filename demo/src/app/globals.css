@import 'tailwindcss';

@theme {
  --font-display: 'Mona Sans', sans-serif;
  --font-display--font-variation-settings: 'wdth' 112.5;
  --font-sans: 'Inter', system-ui, sans-serif;

  --color-mist-50: oklch(98.7% 0.002 197.1);
  --color-mist-100: oklch(96.3% 0.002 197.1);
  --color-mist-200: oklch(92.5% 0.005 214.3);
  --color-mist-300: oklch(87.2% 0.007 219.6);
  --color-mist-400: oklch(72.3% 0.014 214.4);
  --color-mist-500: oklch(56% 0.021 213.5);
  --color-mist-600: oklch(45% 0.017 213.2);
  --color-mist-700: oklch(37.8% 0.015 216);
  --color-mist-800: oklch(27.5% 0.011 216.9);
  --color-mist-900: oklch(21.8% 0.008 223.9);
  --color-mist-950: oklch(14.8% 0.004 228.8);
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-mist-100);
    --scroll-padding-top: 0;
    scroll-padding-top: var(--scroll-padding-top);

    @variant dark {
      background-color: var(--color-mist-950);
    }
  }

  /* =============================================================================
     FILM GRAIN TEXTURE OVERLAY
     Adds subtle noise texture for warmth and tactility, breaking the "too clean"
     digital look. Uses SVG noise filter for crisp, performant rendering.
     ============================================================================= */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.035;
    /* SVG noise filter - creates organic film grain effect */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 128px 128px;
  }

  /* Slightly stronger grain in dark mode for visibility */
  @variant dark {
    body::before {
      opacity: 0.05;
    }
  }

  /* Respect reduced motion - disable animated grain if motion is reduced */
  @media (prefers-reduced-motion: reduce) {
    body::before {
      opacity: 0.025;
    }
  }
}

/* Scroll-triggered reveal animations */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply animation when element has data-animate="visible" */
.animate-fade-up {
  opacity: 0;
}

.animate-fade-up[data-animate='visible'] {
  animation: fade-up 0.5s ease-out forwards;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-up {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* =============================================================================
   HERO ENTRANCE ANIMATION SEQUENCE
   Orchestrated page-load animation with staggered reveals
   ============================================================================= */

@keyframes hero-entrance {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes hero-entrance-scale {
  from {
    opacity: 0;
    transform: translateY(24px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Base class: elements start invisible and animate on page load */
.hero-animate {
  opacity: 0;
  animation: hero-entrance 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Screenshot variant with subtle scale effect */
.hero-animate-scale {
  opacity: 0;
  animation: hero-entrance-scale 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Staggered delay classes for orchestrated sequence */
.hero-delay-0 { animation-delay: 0ms; }
.hero-delay-1 { animation-delay: 80ms; }
.hero-delay-2 { animation-delay: 160ms; }
.hero-delay-3 { animation-delay: 240ms; }
.hero-delay-4 { animation-delay: 360ms; }
.hero-delay-5 { animation-delay: 500ms; }

/* =============================================================================
   FAQ SPRING ANIMATION
   Smooth accordion open/close with spring-like overshoot easing
   ============================================================================= */

@keyframes faq-spring-open {
  0% {
    opacity: 0;
    transform: translateY(-8px);
  }
  60% {
    opacity: 1;
    transform: translateY(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes faq-icon-rotate {
  0% {
    transform: rotate(0deg);
  }
  60% {
    transform: rotate(95deg);
  }
  100% {
    transform: rotate(90deg);
  }
}

/* Spring animation for FAQ content reveal */
.faq-spring-content {
  animation: faq-spring-open 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Icon rotation with spring overshoot */
.faq-icon-spring {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.faq-icon-spring[data-open='true'] {
  transform: rotate(90deg);
}

/* =============================================================================
   SCROLL-TRIGGERED SECTION ANIMATIONS
   Reusable animation classes for section reveals on scroll
   ============================================================================= */

/* Slide up animation - default for most elements */
@keyframes scroll-slide-up {
  from {
    opacity: 0;
    transform: translateY(32px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide from left animation - for alternating layouts */
@keyframes scroll-slide-left {
  from {
    opacity: 0;
    transform: translateX(-32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Slide from right animation - for alternating layouts */
@keyframes scroll-slide-right {
  from {
    opacity: 0;
    transform: translateX(32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scale up animation - for cards and contained elements */
@keyframes scroll-scale-up {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* =============================================================================
   PARALLAX TILT EFFECT
   3D tilt effect on hover for screenshots and cards
   ============================================================================= */

.parallax-tilt {
  transform-style: preserve-3d;
  perspective: 1000px;
  transition: transform 0.15s ease-out, box-shadow 0.3s ease-out;
}

.parallax-tilt:hover {
  /* Shadow enhancement on hover for depth */
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.15),
    0 12px 24px -8px rgba(0, 0, 0, 0.1);
}

/* Dark mode shadow adjustment */
@variant dark {
  .parallax-tilt:hover {
    box-shadow:
      0 25px 50px -12px rgba(0, 0, 0, 0.4),
      0 12px 24px -8px rgba(0, 0, 0, 0.3);
  }
}

/* Subtle glow effect on the screenshot content */
.parallax-tilt-glow {
  position: relative;
  overflow: hidden;
}

.parallax-tilt-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0;
  background: radial-gradient(
    circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(255, 255, 255, 0.15) 0%,
    transparent 50%
  );
  transition: opacity 0.3s ease-out;
  pointer-events: none;
}

.parallax-tilt-glow:hover::after {
  opacity: 1;
}

/* =============================================================================
   MAGNETIC BUTTON EFFECT
   CSS fallback styles (JS handles the actual magnetic behavior)
   
   Performance: will-change is only applied during interaction to avoid
   permanent GPU layer promotion on idle elements.
   ============================================================================= */

.magnetic-wrapper {
  display: inline-block;
}

.magnetic-wrapper:hover,
.magnetic-wrapper:focus-within {
  will-change: transform;
}

/* =============================================================================
   ANIMATED GRADIENT BORDER
   Rotating conic gradient border for primary CTAs
   ============================================================================= */

@keyframes gradient-border-rotate {
  from {
    --gradient-angle: 0deg;
  }
  to {
    --gradient-angle: 360deg;
  }
}

/* Register custom property for smooth animation (Houdini) */
@property --gradient-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

/* Wrapper establishes positioning context */
.gradient-border-wrapper {
  --gradient-rotation-duration: 3000ms;
}

/* Rotating gradient border layer */
.gradient-border-rotating {
  background: conic-gradient(
    from var(--gradient-angle),
    /* Light mode: mist palette colors */
    oklch(45% 0.017 213.2) 0deg,      /* mist-600 */
    oklch(56% 0.021 213.5) 60deg,     /* mist-500 */
    oklch(72.3% 0.014 214.4) 120deg,  /* mist-400 */
    oklch(56% 0.021 213.5) 180deg,    /* mist-500 */
    oklch(37.8% 0.015 216) 240deg,    /* mist-700 */
    oklch(45% 0.017 213.2) 300deg,    /* mist-600 */
    oklch(45% 0.017 213.2) 360deg     /* mist-600 - seamless loop */
  );
  animation: gradient-border-rotate var(--gradient-rotation-duration) linear infinite;
}

/* Dark mode gradient uses lighter values for visibility */
@variant dark {
  .gradient-border-rotating {
    background: conic-gradient(
      from var(--gradient-angle),
      oklch(72.3% 0.014 214.4) 0deg,    /* mist-400 */
      oklch(87.2% 0.007 219.6) 60deg,   /* mist-300 */
      oklch(92.5% 0.005 214.3) 120deg,  /* mist-200 */
      oklch(87.2% 0.007 219.6) 180deg,  /* mist-300 */
      oklch(72.3% 0.014 214.4) 240deg,  /* mist-400 */
      oklch(56% 0.021 213.5) 300deg,    /* mist-500 */
      oklch(72.3% 0.014 214.4) 360deg   /* mist-400 - seamless loop */
    );
  }
}

/* Glow effect - uses same gradient but blurred */
.gradient-border-glow {
  background: conic-gradient(
    from var(--gradient-angle),
    oklch(45% 0.017 213.2) 0deg,
    oklch(56% 0.021 213.5) 90deg,
    oklch(72.3% 0.014 214.4) 180deg,
    oklch(56% 0.021 213.5) 270deg,
    oklch(45% 0.017 213.2) 360deg
  );
  animation: gradient-border-rotate var(--gradient-rotation-duration) linear infinite;
}

@variant dark {
  .gradient-border-glow {
    background: conic-gradient(
      from var(--gradient-angle),
      oklch(72.3% 0.014 214.4) 0deg,
      oklch(87.2% 0.007 219.6) 90deg,
      oklch(92.5% 0.005 214.3) 180deg,
      oklch(87.2% 0.007 219.6) 270deg,
      oklch(72.3% 0.014 214.4) 360deg
    );
  }
}

/* Hover state: show glow and speed up rotation */
.gradient-border-wrapper:hover .gradient-border-glow {
  opacity: 0.5;
}

.gradient-border-wrapper:hover .gradient-border-rotating,
.gradient-border-wrapper:hover .gradient-border-glow {
  animation-duration: calc(var(--gradient-rotation-duration) * 0.5);
}

/* =============================================================================
   CTA SHIMMER EFFECT
   Diagonal shine sweep that periodically crosses CTA buttons
   ============================================================================= */

@keyframes cta-shimmer-sweep {
  0% {
    transform: translateX(-100%) skewX(-20deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateX(200%) skewX(-20deg);
    opacity: 0;
  }
}

/* Base shimmer element - positioned but hidden until animated */
.cta-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  width: 50%;
  transform: translateX(-100%) skewX(-20deg);
  opacity: 0;
}

/* Dark mode shimmer - slightly brighter for visibility */
@variant dark {
  .cta-shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.3) 50%,
      transparent 100%
    );
  }
}

/* Shimmer animation - triggered via JS class toggle */
.cta-shimmer-animate {
  animation: cta-shimmer-sweep 600ms ease-out forwards;
}

/* =============================================================================
   BLUR TRANSITION TEXT ANIMATION
   Smooth blur in/out transitions for text changes
   ============================================================================= */

@keyframes blur-in {
  from {
    opacity: 0;
    filter: blur(8px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes blur-out {
  from {
    opacity: 1;
    filter: blur(0);
  }
  to {
    opacity: 0;
    filter: blur(8px);
  }
}

/* =============================================================================
   GRADIENT MESH BACKGROUND ANIMATION
   Organic drifting movement for ambient background blobs
   ============================================================================= */

@keyframes mesh-drift {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1);
  }
  25% {
    transform: translate(-50%, -50%) translate(30px, -20px) scale(1.05);
  }
  50% {
    transform: translate(-50%, -50%) translate(-20px, 30px) scale(0.95);
  }
  75% {
    transform: translate(-50%, -50%) translate(-30px, -10px) scale(1.02);
  }
}

/* Slower, more subtle variant for large blobs */
@keyframes mesh-drift-slow {
  0%, 100% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1);
  }
  33% {
    transform: translate(-50%, -50%) translate(15px, -25px) scale(1.03);
  }
  66% {
    transform: translate(-50%, -50%) translate(-25px, 15px) scale(0.97);
  }
}

/* =============================================================================
   LOGO MARQUEE ANIMATION
   Infinite horizontal scrolling for logo displays
   ============================================================================= */

@keyframes marquee-scroll-left {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

@keyframes marquee-scroll-right {
  from {
    transform: translateX(-50%);
  }
  to {
    transform: translateX(0);
  }
}

/* Marquee scroll animation classes */
.logo-marquee-scroll-left {
  animation: marquee-scroll-left var(--marquee-duration, 30s) linear infinite;
}

.logo-marquee-scroll-right {
  animation: marquee-scroll-right var(--marquee-duration, 30s) linear infinite;
}

/* =============================================================================
   BORDER BEAM EFFECT
   A single point of light that travels around the perimeter of an element,
   creating a premium "scan line" effect for featured cards.
   ============================================================================= */

@keyframes border-beam {
  /* Start at top-left corner */
  0% {
    top: 0;
    left: 0;
    transform: translate(-50%, -50%);
  }
  /* Move along top edge to top-right */
  25% {
    top: 0;
    left: 100%;
    transform: translate(-50%, -50%);
  }
  /* Move down right edge to bottom-right */
  50% {
    top: 100%;
    left: 100%;
    transform: translate(-50%, -50%);
  }
  /* Move along bottom edge to bottom-left */
  75% {
    top: 100%;
    left: 0;
    transform: translate(-50%, -50%);
  }
  /* Return up left edge to top-left (complete loop) */
  100% {
    top: 0;
    left: 0;
    transform: translate(-50%, -50%);
  }
}

/* Border beam animation class - used by the BorderBeam component */
.animate-border-beam {
  animation: border-beam 8s linear infinite;
}

/* =============================================================================
   MORPHING PRICE DIGITS
   Smooth digit-by-digit morph animation for price changes.
   Creates a mechanical counter / slot machine effect.
   ============================================================================= */

@keyframes digit-morph {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes digit-slide-out {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(-100%);
    opacity: 0;
  }
}

@keyframes digit-slide-in {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Digit morph animation classes */
.animate-digit-morph {
  animation: digit-morph 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-digit-slide-out {
  animation: digit-slide-out 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.animate-digit-slide-in {
  animation: digit-slide-in 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Pricing tab panel transition - morphing effect when switching tabs */
.pricing-tab-panels > [role="tabpanel"] {
  animation: pricing-panel-enter 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes pricing-panel-enter {
  0% {
    opacity: 0;
    transform: translateY(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Morphing price - adds subtle transition for price value changes */
.morphing-price {
  display: inline-block;
  transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

/* =============================================================================
   LINK UNDERLINE GROW-FROM-CENTER ANIMATION
   Creates a premium underline effect that expands from center outward on hover.
   The underline "breathes" into existence rather than simply appearing.
   ============================================================================= */

.link-underline-grow {
  position: relative;
  text-decoration: none;
}

/* The animated underline pseudo-element */
.link-underline-grow::after {
  content: '';
  position: absolute;
  /* Position at the baseline of the text */
  bottom: 0;
  /* Start centered */
  left: 50%;
  /* Initial width of 0, will expand on hover */
  width: 0;
  /* Underline thickness */
  height: 1.5px;
  /* Use mist-500 for visible contrast against light backgrounds */
  background: oklch(56% 0.021 213.5);
  /* Smooth expansion animation with ease-out for natural feel */
  transition:
    width 0.3s cubic-bezier(0.22, 1, 0.36, 1),
    left 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Hover state - expand underline to full width */
.link-underline-grow:hover::after,
.link-underline-grow:focus-visible::after {
  width: 100%;
  left: 0;
}

/* Dark mode - use white for clear visibility against dark backgrounds */
:is(.dark .link-underline-grow)::after {
  background: white;
}

/* =============================================================================
   SCREENSHOT REFLECTION EFFECT
   Creates a premium "floating above polished surface" appearance with a
   mirrored, blurred reflection below screenshots.
   ============================================================================= */

.screenshot-reflection {
  position: relative;
}

/* The reflection pseudo-element */
.screenshot-reflection::after {
  content: '';
  position: absolute;
  /* Position below the screenshot with small gap */
  top: 100%;
  left: 0;
  right: 0;
  /* Reflection height - proportional to the parent */
  height: 30%;
  /* Mirror effect using gradient that simulates reflection */
  background: linear-gradient(
    to bottom,
    var(--reflection-color, rgba(0, 0, 0, 0.04)) 0%,
    transparent 100%
  );
  /* Blur for frosted glass effect */
  filter: blur(8px);
  /* Fade out mask */
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 80%);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 80%);
  /* Match parent border radius */
  border-radius: inherit;
  /* Don't interfere with interactions */
  pointer-events: none;
  /* Subtle animation on parent hover */
  opacity: 0.6;
  transition: opacity 0.5s ease-out;
  transform: scaleY(0.5);
  transform-origin: top;
}

/* Enhance reflection on hover */
.screenshot-reflection:hover::after {
  opacity: 0.8;
}

/* Dark mode: lighter reflection color */
@variant dark {
  .screenshot-reflection::after {
    --reflection-color: rgba(255, 255, 255, 0.03);
  }
}

/* =============================================================================
   ELASTIC PRICING TOGGLE
   Spring physics animation for Monthly/Yearly toggle indicator with
   overshoot and settle effect.
   ============================================================================= */

@keyframes elastic-slide {
  0% {
    transform: translateX(var(--from-x, 0));
  }
  60% {
    /* Overshoot by 8% */
    transform: translateX(calc(var(--to-x, 0) + (var(--to-x, 0) - var(--from-x, 0)) * 0.08));
  }
  80% {
    /* Settle back slightly past target */
    transform: translateX(calc(var(--to-x, 0) - (var(--to-x, 0) - var(--from-x, 0)) * 0.03));
  }
  100% {
    transform: translateX(var(--to-x, 0));
  }
}

/* Pill indicator base styles */
.pricing-toggle-pill {
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* When animating, use the elastic keyframe */
.pricing-toggle-pill[data-animating="true"] {
  animation: elastic-slide 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* =============================================================================
   SECTION REVEAL HORIZON LINE
   Animated horizontal accent line that draws inward from both edges
   when a section enters the viewport.
   ============================================================================= */

.section-horizon {
  position: relative;
}

/* Left line */
.section-horizon::before,
.section-horizon::after {
  content: '';
  position: absolute;
  top: 0;
  height: 1px;
  /* Gradient using mist palette */
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(56% 0.021 213.5) 50%,  /* mist-500 */
    oklch(72.3% 0.014 214.4) 100% /* mist-400 */
  );
  /* Start hidden */
  transform: scaleX(0);
  transition: transform 0.8s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Left line - draws from left edge */
.section-horizon::before {
  left: 0;
  width: 35%;
  transform-origin: left center;
}

/* Right line - draws from right edge */
.section-horizon::after {
  right: 0;
  width: 35%;
  transform-origin: right center;
  /* Reverse the gradient direction */
  background: linear-gradient(
    90deg,
    oklch(72.3% 0.014 214.4) 0%,  /* mist-400 */
    oklch(56% 0.021 213.5) 50%,   /* mist-500 */
    transparent 100%
  );
}

/* Animate in when visible */
.section-horizon[data-visible="true"]::before,
.section-horizon[data-visible="true"]::after {
  transform: scaleX(1);
}

/* Stagger the right line slightly */
.section-horizon[data-visible="true"]::after {
  transition-delay: 0.1s;
}

/* Dark mode: brighter lines */
@variant dark {
  .section-horizon::before {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(72.3% 0.014 214.4) 50%,  /* mist-400 */
      oklch(87.2% 0.007 219.6) 100%  /* mist-300 */
    );
  }
  .section-horizon::after {
    background: linear-gradient(
      90deg,
      oklch(87.2% 0.007 219.6) 0%,   /* mist-300 */
      oklch(72.3% 0.014 214.4) 50%,  /* mist-400 */
      transparent 100%
    );
  }
}

/* =============================================================================
   TESTIMONIAL AVATAR PRESENCE RING
   Slow-pulsing concentric ring on hover that creates a "live presence"
   indicator effect, humanizing testimonials.
   ============================================================================= */

@keyframes presence-pulse {
  0% {
    transform: scale(1);
    opacity: 0.4;
  }
  50% {
    transform: scale(1.15);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

/* Avatar wrapper with presence effect */
.avatar-presence {
  position: relative;
}

/* The pulsing ring - hidden by default, shown on group hover */
.avatar-presence::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 9999px;
  /* Ring using mist palette */
  border: 2px solid oklch(56% 0.021 213.5); /* mist-500 */
  opacity: 0;
  pointer-events: none;
  /* Animation paused by default */
  animation: presence-pulse 2.5s ease-out infinite;
  animation-play-state: paused;
}

/* Activate on group hover */
.group:hover .avatar-presence::before {
  animation-play-state: running;
}

/* Dark mode: lighter ring color */
@variant dark {
  .avatar-presence::before {
    border-color: oklch(72.3% 0.014 214.4); /* mist-400 */
  }
}

/* =============================================================================
   CARD ENTRANCE DEPTH STACK
   Ghost shadow card that appears behind cards during entrance animation,
   creating a "pulled from deck" sensation.
   ============================================================================= */

@keyframes depth-stack-fade {
  0% {
    opacity: 0.25;
    transform: translate(4px, 6px) scale(0.98);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0) scale(1);
  }
}

/* Container for depth stack effect */
.card-depth-stack {
  position: relative;
}

/* Ghost card shadow - appears behind the main card */
.card-depth-stack::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  /* Semi-transparent background matching card */
  background: oklch(27.5% 0.011 216.9 / 0.08); /* mist-800 at 8% */
  /* Hidden by default */
  opacity: 0;
  pointer-events: none;
  z-index: -1;
}

/* Animate when visible */
.card-depth-stack[data-animating="true"]::before {
  animation: depth-stack-fade 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode: lighter ghost card */
@variant dark {
  .card-depth-stack::before {
    background: oklch(92.5% 0.005 214.3 / 0.06); /* mist-200 at 6% */
  }
}

/* =============================================================================
   RECOMMENDATION A: PRISMATIC GRID ENTRANCES
   Directional card entrances based on grid position with subtle color shift.
   Creates organic "dealing from deck" sensation.
   ============================================================================= */

/* Prismatic color shift during entrance - subtle hue rotation that settles */
@keyframes prismatic-shift {
  0% {
    filter: hue-rotate(var(--prismatic-hue, 0deg)) saturate(1.1);
  }
  100% {
    filter: hue-rotate(0deg) saturate(1);
  }
}

/* Diagonal entrance from top-left */
@keyframes prismatic-enter-tl {
  from {
    opacity: 0;
    transform: translate(-16px, -16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Diagonal entrance from top-right */
@keyframes prismatic-enter-tr {
  from {
    opacity: 0;
    transform: translate(16px, -16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Diagonal entrance from bottom-left */
@keyframes prismatic-enter-bl {
  from {
    opacity: 0;
    transform: translate(-16px, 16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Diagonal entrance from bottom-right */
@keyframes prismatic-enter-br {
  from {
    opacity: 0;
    transform: translate(16px, 16px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
}

/* Horizontal entrance from left */
@keyframes prismatic-enter-left {
  from {
    opacity: 0;
    transform: translateX(-20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Horizontal entrance from right */
@keyframes prismatic-enter-right {
  from {
    opacity: 0;
    transform: translateX(20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Prismatic entrance classes - combine direction with color shift */
.prismatic-enter {
  opacity: 0;
}

.prismatic-enter[data-visible="true"] {
  animation:
    var(--prismatic-direction, prismatic-enter-tl) 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards,
    prismatic-shift 0.9s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Position-based direction assignments for 3-column grids */
.prismatic-enter[data-position="0"] { --prismatic-direction: prismatic-enter-tl; --prismatic-hue: -8deg; }
.prismatic-enter[data-position="1"] { --prismatic-direction: scroll-slide-up; --prismatic-hue: 0deg; }
.prismatic-enter[data-position="2"] { --prismatic-direction: prismatic-enter-tr; --prismatic-hue: 8deg; }
.prismatic-enter[data-position="3"] { --prismatic-direction: prismatic-enter-left; --prismatic-hue: -5deg; }
.prismatic-enter[data-position="4"] { --prismatic-direction: scroll-scale-up; --prismatic-hue: 0deg; }
.prismatic-enter[data-position="5"] { --prismatic-direction: prismatic-enter-right; --prismatic-hue: 5deg; }
.prismatic-enter[data-position="6"] { --prismatic-direction: prismatic-enter-bl; --prismatic-hue: -8deg; }
.prismatic-enter[data-position="7"] { --prismatic-direction: scroll-slide-up; --prismatic-hue: 0deg; }
.prismatic-enter[data-position="8"] { --prismatic-direction: prismatic-enter-br; --prismatic-hue: 8deg; }

/* =============================================================================
   RECOMMENDATION B: PRICING CARD FOCUS ISOLATION
   Cinema-style focus pull - hovering one card dims others.
   ============================================================================= */

/* Parent container that enables focus isolation */
.pricing-focus-group {
  /* Children will respond to parent hover state */
}

/* Card within focus group - dims when sibling is hovered */
.pricing-focus-card {
  transition: filter 0.4s ease-out, opacity 0.4s ease-out, transform 0.2s ease-out;
}

/* When parent is hovered, dim all cards */
.pricing-focus-group:hover .pricing-focus-card {
  filter: saturate(0.7) brightness(0.95);
  opacity: 0.7;
}

/* The hovered card overrides the dim effect and gains focus */
.pricing-focus-group:hover .pricing-focus-card:hover {
  filter: saturate(1) brightness(1);
  opacity: 1;
  /* Add subtle glow halo */
  box-shadow:
    0 0 0 1px oklch(56% 0.021 213.5 / 0.1),
    0 8px 32px -8px oklch(56% 0.021 213.5 / 0.15);
}

/* Dark mode adjustments */
@variant dark {
  .pricing-focus-group:hover .pricing-focus-card:hover {
    box-shadow:
      0 0 0 1px oklch(72.3% 0.014 214.4 / 0.15),
      0 8px 32px -8px oklch(72.3% 0.014 214.4 / 0.2);
  }
}

/* =============================================================================
   RECOMMENDATION C: MAGNETIC RIPPLE ON CTA ENTRY
   Radial ripple emanating from button when cursor enters magnetic field.
   ============================================================================= */

@keyframes magnetic-ripple {
  0% {
    transform: translate(-50%, -50%) scale(0.3);
    opacity: 0.4;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 0;
  }
}

/* Ripple effect container */
.magnetic-ripple-container {
  position: relative;
  overflow: visible;
}

/* The ripple element - positioned absolutely */
.magnetic-ripple {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border-radius: 9999px;
  pointer-events: none;
  /* Gradient using mist palette */
  background: radial-gradient(
    circle,
    oklch(56% 0.021 213.5 / 0.3) 0%,
    oklch(72.3% 0.014 214.4 / 0.1) 50%,
    transparent 70%
  );
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
}

/* Trigger ripple animation */
.magnetic-ripple.animate {
  animation: magnetic-ripple 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode: brighter ripple */
@variant dark {
  .magnetic-ripple {
    background: radial-gradient(
      circle,
      oklch(72.3% 0.014 214.4 / 0.3) 0%,
      oklch(87.2% 0.007 219.6 / 0.1) 50%,
      transparent 70%
    );
  }
}

/* =============================================================================
   RECOMMENDATION D: PROGRESSIVE SCREENSHOT REVEAL
   Diagonal gradient wipe that "materializes" screenshots.
   ============================================================================= */

@keyframes screenshot-reveal {
  0% {
    clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
  }
  100% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes screenshot-reveal-glow {
  0% {
    left: -20%;
    opacity: 1;
  }
  100% {
    left: 120%;
    opacity: 0;
  }
}

/* Progressive reveal container */
.screenshot-reveal {
  position: relative;
  /* Start hidden via clip-path */
  clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
}

/* Animate reveal when visible */
.screenshot-reveal[data-visible="true"] {
  animation: screenshot-reveal 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Leading edge glow during reveal */
.screenshot-reveal::before {
  content: '';
  position: absolute;
  top: 0;
  left: -20%;
  width: 15%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(72.3% 0.014 214.4 / 0.4) 50%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 10;
  opacity: 0;
}

.screenshot-reveal[data-visible="true"]::before {
  animation: screenshot-reveal-glow 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode glow */
@variant dark {
  .screenshot-reveal::before {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(87.2% 0.007 219.6 / 0.3) 50%,
      transparent 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION E: ANIMATED SECTION DIVIDERS
   Horizontal lines that draw from center outward with light pulse.
   ============================================================================= */

@keyframes divider-draw {
  0% {
    transform: scaleX(0);
  }
  100% {
    transform: scaleX(1);
  }
}

@keyframes divider-pulse {
  0% {
    left: 50%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    left: 100%;
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

@keyframes divider-pulse-reverse {
  0% {
    right: 50%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    right: 100%;
    opacity: 1;
  }
  100% {
    right: 100%;
    opacity: 0;
  }
}

/* Section divider container */
.section-divider {
  position: relative;
  height: 1px;
  width: 100%;
}

/* Left half of divider - draws from center to left */
.section-divider::before,
.section-divider::after {
  content: '';
  position: absolute;
  top: 0;
  height: 1px;
  width: 50%;
  transform: scaleX(0);
}

.section-divider::before {
  right: 50%;
  transform-origin: right center;
  background: linear-gradient(
    270deg,
    oklch(56% 0.021 213.5) 0%,
    oklch(72.3% 0.014 214.4 / 0.5) 50%,
    transparent 100%
  );
}

.section-divider::after {
  left: 50%;
  transform-origin: left center;
  background: linear-gradient(
    90deg,
    oklch(56% 0.021 213.5) 0%,
    oklch(72.3% 0.014 214.4 / 0.5) 50%,
    transparent 100%
  );
}

/* Animate when visible */
.section-divider[data-visible="true"]::before,
.section-divider[data-visible="true"]::after {
  animation: divider-draw 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.section-divider[data-visible="true"]::after {
  animation-delay: 0.05s;
}

/* Light pulse element that travels along the divider */
.section-divider-pulse {
  position: absolute;
  top: -1px;
  width: 30px;
  height: 3px;
  border-radius: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(72.3% 0.014 214.4) 50%,
    transparent 100%
  );
  opacity: 0;
  pointer-events: none;
}

/* Right-traveling pulse */
.section-divider-pulse.right {
  left: 50%;
}

.section-divider[data-visible="true"] .section-divider-pulse.right {
  animation: divider-pulse 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.5s;
}

/* Left-traveling pulse */
.section-divider-pulse.left {
  right: 50%;
}

.section-divider[data-visible="true"] .section-divider-pulse.left {
  animation: divider-pulse-reverse 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  animation-delay: 0.55s;
}

/* Dark mode */
@variant dark {
  .section-divider::before {
    background: linear-gradient(
      270deg,
      oklch(72.3% 0.014 214.4) 0%,
      oklch(56% 0.021 213.5 / 0.5) 50%,
      transparent 100%
    );
  }
  .section-divider::after {
    background: linear-gradient(
      90deg,
      oklch(72.3% 0.014 214.4) 0%,
      oklch(56% 0.021 213.5 / 0.5) 50%,
      transparent 100%
    );
  }
  .section-divider-pulse {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(87.2% 0.007 219.6) 50%,
      transparent 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION 6: NAVBAR SCROLL GLOW
   Animated gradient glow line along navbar bottom edge when scrolled.
   ============================================================================= */

@keyframes navbar-glow-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Navbar glow line - appears when scrolled */
.navbar-glow {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  opacity: 0;
  transition: opacity 0.3s ease-out;
  /* Animated gradient */
  background: linear-gradient(
    90deg,
    oklch(72.3% 0.014 214.4 / 0.3) 0%,
    oklch(56% 0.021 213.5 / 0.5) 25%,
    oklch(45% 0.017 213.2 / 0.3) 50%,
    oklch(56% 0.021 213.5 / 0.5) 75%,
    oklch(72.3% 0.014 214.4 / 0.3) 100%
  );
  background-size: 200% 100%;
  animation: navbar-glow-shift 6s ease-in-out infinite;
}

/* Show glow when navbar is scrolled */
.navbar-scrolled .navbar-glow {
  opacity: 0.25;
}

/* Dark mode - brighter glow */
@variant dark {
  .navbar-glow {
    background: linear-gradient(
      90deg,
      oklch(87.2% 0.007 219.6 / 0.2) 0%,
      oklch(72.3% 0.014 214.4 / 0.4) 25%,
      oklch(56% 0.021 213.5 / 0.2) 50%,
      oklch(72.3% 0.014 214.4 / 0.4) 75%,
      oklch(87.2% 0.007 219.6 / 0.2) 100%
    );
    background-size: 200% 100%;
  }
}

/* =============================================================================
   RECOMMENDATION 7: TESTIMONIAL QUOTE MARK FLOAT
   Slow floating animation for decorative quote marks.
   ============================================================================= */

@keyframes quote-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

/* Floating quote mark */
.quote-float {
  animation: quote-float 8s ease-in-out infinite;
}

/* Pause on card hover for focus */
.group:hover .quote-float {
  animation-play-state: paused;
  opacity: 0.8;
  transition: opacity 0.3s ease-out;
}

/* =============================================================================
   RECOMMENDATION 8: STATS GRAPH DATA PULSE
   Traveling dots along graph line suggesting live data.
   ============================================================================= */

@keyframes data-pulse-travel {
  0% {
    offset-distance: 0%;
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  95% {
    opacity: 1;
  }
  100% {
    offset-distance: 100%;
    opacity: 0;
  }
}

/* Data pulse dot that travels along path */
.data-pulse {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: oklch(56% 0.021 213.5);
  box-shadow: 0 0 8px oklch(56% 0.021 213.5 / 0.6);
  offset-rotate: 0deg;
  opacity: 0;
}

/* Animate when active - uses offset-path from inline style */
.data-pulse.active {
  animation: data-pulse-travel 4s linear infinite;
}

/* Stagger multiple pulses */
.data-pulse:nth-child(2) {
  animation-delay: 2s;
}

/* Dark mode */
@variant dark {
  .data-pulse {
    background: oklch(72.3% 0.014 214.4);
    box-shadow: 0 0 8px oklch(72.3% 0.014 214.4 / 0.6);
  }
}

/* =============================================================================
   RECOMMENDATION 9: FAQ ACCORDION GLOW TRAIL
   Glow that follows expanding content edge.
   ============================================================================= */

@keyframes faq-glow-trail {
  0% {
    opacity: 0.8;
    height: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    height: 100%;
  }
}

/* Glow trail container - positioned on FAQ content */
.faq-glow-trail {
  position: relative;
  overflow: hidden;
}

/* The glow line that tracks expansion */
.faq-glow-trail::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(56% 0.021 213.5 / 0.5) 20%,
    oklch(72.3% 0.014 214.4 / 0.8) 50%,
    oklch(56% 0.021 213.5 / 0.5) 80%,
    transparent 100%
  );
  opacity: 0;
  pointer-events: none;
}

/* Animate glow when FAQ opens */
.faq-glow-trail[data-open="true"]::after {
  animation: faq-glow-trail 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Dark mode */
@variant dark {
  .faq-glow-trail::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(72.3% 0.014 214.4 / 0.4) 20%,
      oklch(87.2% 0.007 219.6 / 0.6) 50%,
      oklch(72.3% 0.014 214.4 / 0.4) 80%,
      transparent 100%
    );
  }
}

/* =============================================================================
   RECOMMENDATION 10: SCROLL-VELOCITY RESPONSIVE ELEMENTS
   CSS custom properties set by scroll velocity tracker.
   ============================================================================= */

/* Base variables - set by JS scroll velocity hook */
:root {
  --scroll-velocity: 0;
  --scroll-intensity: 1;
}

/* Elements that respond to scroll velocity */
.velocity-responsive {
  transition-duration: calc(0.6s / var(--scroll-intensity, 1));
}

/* Dot matrix responds to scroll velocity - increases opacity during fast scroll */
.velocity-dot-matrix {
  --dot-opacity-boost: calc(var(--scroll-velocity, 0) * 0.0002);
}

/* =============================================================================
   PAGE ROUTE TRANSITIONS (C)
   Smooth entrance animations for page content when navigating between routes.
   Creates a polished, premium feel by eliminating jarring page changes.

   To disable: Remove the PageTransition wrapper from pages, or remove
   the .page-transition-enter class from the wrapper element.
   ============================================================================= */

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Page entrance animation - triggers on mount */
.page-transition-enter {
  animation: page-enter 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* =============================================================================
   MICRO-ANIMATED ICONS (D)
   Subtle hover animations for SVG icons that add life and interactivity.
   Multiple animation types available for different icon contexts.

   To disable: Remove the animation class (e.g., .icon-wiggle) from the icon
   element, or remove the .group class from the parent element.
   ============================================================================= */

/* Wiggle animation - slight rotation back and forth */
@keyframes icon-wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-8deg);
  }
  75% {
    transform: rotate(8deg);
  }
}

/* Pulse animation - gentle scale pulse */
@keyframes icon-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/* Bounce animation - vertical bounce with squash */
@keyframes icon-bounce {
  0%, 100% {
    transform: translateY(0) scaleY(1);
  }
  30% {
    transform: translateY(-4px) scaleY(1.05);
  }
  50% {
    transform: translateY(0) scaleY(0.95);
  }
  70% {
    transform: translateY(-2px) scaleY(1);
  }
}

/* Float animation - gentle up-down drift */
@keyframes icon-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-3px);
  }
}

/* Spin animation - single rotation */
@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Sparkle animation - scale with brightness pulse for sparkles/star icons */
@keyframes icon-sparkle {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.1);
    filter: brightness(1.3);
  }
}

/* Base class for animated icons - sets up transition context */
.icon-animated {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease-out;
}

/* Icon animation variants - apply on hover via parent group or direct hover */

/* Wiggle effect - good for notification, settings, warning icons */
.icon-wiggle:hover,
.group:hover .icon-wiggle {
  animation: icon-wiggle 0.4s ease-in-out;
}

/* Pulse effect - good for heart, star, favorite icons */
.icon-pulse:hover,
.group:hover .icon-pulse {
  animation: icon-pulse 0.5s ease-out;
}

/* Bounce effect - good for arrow, navigation, action icons */
.icon-bounce:hover,
.group:hover .icon-bounce {
  animation: icon-bounce 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Float effect - good for cloud, mail, document icons */
.icon-float:hover,
.group:hover .icon-float {
  animation: icon-float 0.6s ease-in-out infinite;
}

/* Spin effect - good for settings, refresh, loading icons (single spin) */
.icon-spin:hover,
.group:hover .icon-spin {
  animation: icon-spin 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Sparkle effect - good for sparkles, star, magic icons */
.icon-sparkle:hover,
.group:hover .icon-sparkle {
  animation: icon-sparkle 0.6s ease-in-out;
}


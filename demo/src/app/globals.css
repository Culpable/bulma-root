@import 'tailwindcss';

@theme {
  --font-display: 'Mona Sans', sans-serif;
  --font-display--font-variation-settings: 'wdth' 112.5;
  --font-sans: 'Inter', system-ui, sans-serif;

  --color-mist-50: oklch(98.7% 0.002 197.1);
  --color-mist-100: oklch(96.3% 0.002 197.1);
  --color-mist-200: oklch(92.5% 0.005 214.3);
  --color-mist-300: oklch(87.2% 0.007 219.6);
  --color-mist-400: oklch(72.3% 0.014 214.4);
  --color-mist-500: oklch(56% 0.021 213.5);
  --color-mist-600: oklch(45% 0.017 213.2);
  --color-mist-700: oklch(37.8% 0.015 216);
  --color-mist-800: oklch(27.5% 0.011 216.9);
  --color-mist-900: oklch(21.8% 0.008 223.9);
  --color-mist-950: oklch(14.8% 0.004 228.8);
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-mist-100);
    --scroll-padding-top: 0;
    scroll-padding-top: var(--scroll-padding-top);

    @variant dark {
      background-color: var(--color-mist-950);
    }
  }
}

/* Scroll-triggered reveal animations */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply animation when element has data-animate="visible" */
.animate-fade-up {
  opacity: 0;
}

.animate-fade-up[data-animate='visible'] {
  animation: fade-up 0.5s ease-out forwards;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-up {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* =============================================================================
   HERO ENTRANCE ANIMATION SEQUENCE
   Orchestrated page-load animation with staggered reveals
   ============================================================================= */

@keyframes hero-entrance {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes hero-entrance-scale {
  from {
    opacity: 0;
    transform: translateY(24px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Base class: elements start invisible and animate on page load */
.hero-animate {
  opacity: 0;
  animation: hero-entrance 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Screenshot variant with subtle scale effect */
.hero-animate-scale {
  opacity: 0;
  animation: hero-entrance-scale 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Staggered delay classes for orchestrated sequence */
.hero-delay-0 { animation-delay: 0ms; }
.hero-delay-1 { animation-delay: 80ms; }
.hero-delay-2 { animation-delay: 160ms; }
.hero-delay-3 { animation-delay: 240ms; }
.hero-delay-4 { animation-delay: 360ms; }
.hero-delay-5 { animation-delay: 500ms; }

/* =============================================================================
   FAQ SPRING ANIMATION
   Smooth accordion open/close with spring-like overshoot easing
   ============================================================================= */

@keyframes faq-spring-open {
  0% {
    opacity: 0;
    transform: translateY(-8px);
  }
  60% {
    opacity: 1;
    transform: translateY(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes faq-icon-rotate {
  0% {
    transform: rotate(0deg);
  }
  60% {
    transform: rotate(95deg);
  }
  100% {
    transform: rotate(90deg);
  }
}

/* Spring animation for FAQ content reveal */
.faq-spring-content {
  animation: faq-spring-open 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Icon rotation with spring overshoot */
.faq-icon-spring {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.faq-icon-spring[data-open='true'] {
  transform: rotate(90deg);
}

/* =============================================================================
   SCROLL-TRIGGERED SECTION ANIMATIONS
   Reusable animation classes for section reveals on scroll
   ============================================================================= */

/* Slide up animation - default for most elements */
@keyframes scroll-slide-up {
  from {
    opacity: 0;
    transform: translateY(32px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide from left animation - for alternating layouts */
@keyframes scroll-slide-left {
  from {
    opacity: 0;
    transform: translateX(-32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Slide from right animation - for alternating layouts */
@keyframes scroll-slide-right {
  from {
    opacity: 0;
    transform: translateX(32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scale up animation - for cards and contained elements */
@keyframes scroll-scale-up {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* =============================================================================
   PARALLAX TILT EFFECT
   3D tilt effect on hover for screenshots and cards
   ============================================================================= */

.parallax-tilt {
  transform-style: preserve-3d;
  perspective: 1000px;
  transition: transform 0.15s ease-out, box-shadow 0.3s ease-out;
}

.parallax-tilt:hover {
  /* Shadow enhancement on hover for depth */
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.15),
    0 12px 24px -8px rgba(0, 0, 0, 0.1);
}

/* Dark mode shadow adjustment */
@variant dark {
  .parallax-tilt:hover {
    box-shadow:
      0 25px 50px -12px rgba(0, 0, 0, 0.4),
      0 12px 24px -8px rgba(0, 0, 0, 0.3);
  }
}

/* Subtle glow effect on the screenshot content */
.parallax-tilt-glow {
  position: relative;
  overflow: hidden;
}

.parallax-tilt-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0;
  background: radial-gradient(
    circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(255, 255, 255, 0.15) 0%,
    transparent 50%
  );
  transition: opacity 0.3s ease-out;
  pointer-events: none;
}

.parallax-tilt-glow:hover::after {
  opacity: 1;
}

/* =============================================================================
   MAGNETIC BUTTON EFFECT
   CSS fallback styles (JS handles the actual magnetic behavior)
   ============================================================================= */

.magnetic-wrapper {
  display: inline-block;
  will-change: transform;
}

/* =============================================================================
   ANIMATED GRADIENT BORDER
   Rotating conic gradient border for primary CTAs
   ============================================================================= */

@keyframes gradient-border-rotate {
  from {
    --gradient-angle: 0deg;
  }
  to {
    --gradient-angle: 360deg;
  }
}

/* Register custom property for smooth animation (Houdini) */
@property --gradient-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

/* Wrapper establishes positioning context */
.gradient-border-wrapper {
  --gradient-rotation-duration: 3000ms;
}

/* Rotating gradient border layer */
.gradient-border-rotating {
  background: conic-gradient(
    from var(--gradient-angle),
    /* Light mode: mist palette colors */
    oklch(45% 0.017 213.2) 0deg,      /* mist-600 */
    oklch(56% 0.021 213.5) 60deg,     /* mist-500 */
    oklch(72.3% 0.014 214.4) 120deg,  /* mist-400 */
    oklch(56% 0.021 213.5) 180deg,    /* mist-500 */
    oklch(37.8% 0.015 216) 240deg,    /* mist-700 */
    oklch(45% 0.017 213.2) 300deg,    /* mist-600 */
    oklch(45% 0.017 213.2) 360deg     /* mist-600 - seamless loop */
  );
  animation: gradient-border-rotate var(--gradient-rotation-duration) linear infinite;
}

/* Dark mode gradient uses lighter values for visibility */
@variant dark {
  .gradient-border-rotating {
    background: conic-gradient(
      from var(--gradient-angle),
      oklch(72.3% 0.014 214.4) 0deg,    /* mist-400 */
      oklch(87.2% 0.007 219.6) 60deg,   /* mist-300 */
      oklch(92.5% 0.005 214.3) 120deg,  /* mist-200 */
      oklch(87.2% 0.007 219.6) 180deg,  /* mist-300 */
      oklch(72.3% 0.014 214.4) 240deg,  /* mist-400 */
      oklch(56% 0.021 213.5) 300deg,    /* mist-500 */
      oklch(72.3% 0.014 214.4) 360deg   /* mist-400 - seamless loop */
    );
  }
}

/* Glow effect - uses same gradient but blurred */
.gradient-border-glow {
  background: conic-gradient(
    from var(--gradient-angle),
    oklch(45% 0.017 213.2) 0deg,
    oklch(56% 0.021 213.5) 90deg,
    oklch(72.3% 0.014 214.4) 180deg,
    oklch(56% 0.021 213.5) 270deg,
    oklch(45% 0.017 213.2) 360deg
  );
  animation: gradient-border-rotate var(--gradient-rotation-duration) linear infinite;
}

@variant dark {
  .gradient-border-glow {
    background: conic-gradient(
      from var(--gradient-angle),
      oklch(72.3% 0.014 214.4) 0deg,
      oklch(87.2% 0.007 219.6) 90deg,
      oklch(92.5% 0.005 214.3) 180deg,
      oklch(87.2% 0.007 219.6) 270deg,
      oklch(72.3% 0.014 214.4) 360deg
    );
  }
}

/* Hover state: show glow and speed up rotation */
.gradient-border-wrapper:hover .gradient-border-glow {
  opacity: 0.5;
}

.gradient-border-wrapper:hover .gradient-border-rotating,
.gradient-border-wrapper:hover .gradient-border-glow {
  animation-duration: calc(var(--gradient-rotation-duration) * 0.5);
}

/* =============================================================================
   SHIMMER TEXT ANIMATION
   Animated gradient sweep across text for subtle highlight effect
   ============================================================================= */

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* =============================================================================
   BLUR TRANSITION TEXT ANIMATION
   Smooth blur in/out transitions for text changes
   ============================================================================= */

@keyframes blur-in {
  from {
    opacity: 0;
    filter: blur(8px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes blur-out {
  from {
    opacity: 1;
    filter: blur(0);
  }
  to {
    opacity: 0;
    filter: blur(8px);
  }
}

/* =============================================================================
   CHARACTER SCRAMBLE ANIMATION
   Random character cycling effect for text decode
   ============================================================================= */

.scramble-char {
  display: inline-block;
  min-width: 0.5em;
}

.scramble-char-space {
  min-width: 0.25em;
}
